(function(e){function t(t){for(var o,i,u=t[0],s=t[1],l=t[2],d=0,p=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={zoneSettings:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=s;a.push([3,"chunk-vendors"]),n()})({"035a":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var o={day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},r={day:"numeric",month:"short",year:"numeric"},a={hour:"2-digit",minute:"2-digit",second:"2-digit"}},"144e":function(e,t,n){"use strict";n("a9e3");var o=n("035a");function r(e){if(!e)return"";if(e instanceof Date)return e.toLocaleString(o["b"]);try{return new Date(e).toLocaleString(o["b"])}catch(t){return"Invalid Date"}}function a(e){if(!e)return"";if(e instanceof Date)return e.toDateString(o["a"]);try{return new Date(e).toDateString(o["a"])}catch(t){return"Invalid Date"}}function i(e){if(!e)return"";if(e instanceof Date)return e.toTimeString(o["c"]);try{return new Date(e).toTimeString(o["c"])}catch(t){return"Invalid Time"}}function u(e){return e instanceof Number?e<0?"Invalid Hour":e<10?"0".concat(e,":00"):"".concat(e,":00"):"Invalid Hour"}t["a"]={filters:{formatDate:a,formatDateTime:r,formatTime:i,formatHour:u}}},3:function(e,t,n){e.exports=n("8df8")},"365c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return Z}));n("a4d3"),n("e01a"),n("99af"),n("d81d"),n("b0c0");var o=n("bc3a"),r=n.n(o),a={UNKNOWN:"U",UNAUTHORIZED:"A",OVERSTAY:"O"},i=Object({NODE_ENV:"production",BASE_URL:"/"}).API_BASE_URL||"http://localhost:3000";function u(){return r.a.get("".concat(i,"/zones")).then((function(e){return e.data}))}function s(e){return r.a.get("".concat(i,"/zones?name=").concat(e)).then((function(e){return e.data}))}function l(e,t){return r.a.get("".concat(i,"/zones/").concat(e,"/hourly-count?date=").concat(t)).then((function(e){return e.data}))}function c(e,t,n){return r.a.get("".concat(i,"/zones/").concat(e,"/people-within?ts_from=").concat(t,"&ts_to=").concat(n)).then((function(e){return e.data.map((function(e){return Object.assign(e,{from:new Date(e.from),to:e.to?new Date(e.to):null})}))}))}function d(e,t){return r.a.get("".concat(i,"/zones/").concat(e,"/people-within?date=").concat(t)).then((function(e){return e.data}))}function p(e){return r.a.get("".concat(i,"/zones/").concat(e,"/people")).then((function(e){return e.data}))}function f(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.get("".concat(i,"/zones/alerts?zone_ids=").concat(e)).then((function(e){return e.data}))}function v(e){return r.a.post("".concat(i,"/zones/alerts/").concat(e),{is_dismissed:!0}).then((function(e){return e.data}))}function h(e){var t={id:e.id,name:e.name,description:e.description,config:{is_active:e.is_active,overstay_limit:e.overstay_limit},zone_group:e.zone_group_id};return r.a.post("".concat(i,"/zones"),t).then((function(e){return e.data})).then((function(e){return e.zone_group_id=e.zone_group.id,delete e.zone_group,e}))}function m(e,t){var n={id:t.id,name:t.name,description:t.description,config:{is_active:t.is_active,overstay_limit:t.overstay_limit},zone_group:t.zone_group_id};return r.a.patch("".concat(i,"/zones/").concat(e),n).then((function(e){return e.data})).then((function(e){return e.zone_group_id=e.zone_group.id,delete e.zone_group,e}))}function g(e){return r.a.post("".concat(i,"/zones/groups"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}function _(e,t){return r.a.patch("".concat(i,"/zones/groups/").concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}function b(){return r.a.get("".concat(i,"/zones/?all=true")).then((function(e){return e.data}))}function y(e){return e.response?e.response.data:e.request?"Error while processing request!":e.message?e.message:"UNKNOWN"}function Z(e){switch(e){case a.UNKNOWN:return"Unknown person";case a.UNAUTHORIZED:return"Unauthorized";case a.OVERSTAY:return"Overstay";default:return"UNKNOWN ALERT"}}t["b"]={getZones:u,getAllZones:b,getZonesByName:s,getPeopleForZone:p,getAlertsForZone:f,dismissAlert:v,getPeopleWihtinDateTimeRange:c,getPeopleWihtinDate:d,getPeopleCountHourlyInZone:l,createZone:h,editZone:m,createZoneGroup:g,editZoneGroup:_,handleApiError:y,BASE_URL:i}},"402c":function(e,t,n){"use strict";var o=n("2b0e"),r=n("f309");o["a"].use(r["a"]),t["a"]=new r["a"]({})},"8df8":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{col:"12"}},[n("v-toolbar",{attrs:{dense:""}},[n("v-toolbar-title",[e._v("Zones")]),n("v-spacer"),n("v-btn",{attrs:{disabled:e.isLoading,color:"primary",text:""},on:{click:e.refresh}},[e._v(" Refresh "),n("v-icon",{attrs:{right:""}},[e._v("mdi-refresh")])],1),n("v-btn",{attrs:{disabled:e.isLoading,color:"secondary",text:""},on:{click:e.createZoneGroup}},[e._v(" Create Zone Group "),n("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)],1)],1)],1),null!==e.error?n("v-row",[n("v-col",{attrs:{col:"12"}},[n("v-alert",{attrs:{dense:"",dismissible:"",type:"error"},on:{input:e.handleErrorDismissed}},[e._v(" "+e._s(e.error)+" ")])],1)],1):e._e(),n("v-row",[n("v-col",{attrs:{col:"12"}},[n("ZoneTable",{attrs:{"zone-groups":e.zoneGroups,"controls-enabled":!e.isLoading,loading:e.isLoading},on:{"open-layout-image":e.openImageDialog,"create-zone":e.createZone,"edit-zone-group":e.editZoneGroup,"edit-zone":e.editZone}})],1)],1)],1),n("ZoneDialog",{attrs:{zoneGroup:e.activeZoneGroup,zone:e.activeZone,dialog:e.zoneDialog},on:{updated:e.handleZoneUpdated,input:function(t){e.zoneDialog=t}}}),n("ZoneGroupDialog",{attrs:{zoneGroup:e.activeZoneGroup,dialog:e.zoneGroupDialog},on:{updated:e.handleZoneGroupUpdated,input:function(t){e.zoneGroupDialog=t}}}),n("ImageDialog",{attrs:{dialog:e.imageDialog,url:e.activeImageUrl},on:{input:function(t){e.imageDialog=t}}})],1)],1)},a=[],i=(n("c740"),n("365c")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.dialog},on:{input:e.handleInput}},[n("v-card",[n("v-card-title",[e._v(e._s(e.title))]),null!==e.error?n("v-alert",{attrs:{dense:"",dismissible:"",type:"error"},on:{input:e.handleErrorDismissed}},[e._v(" "+e._s(e.error)+" ")]):e._e(),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{value:e.zoneGroupName,label:"Zone Group",readonly:""}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Name",disabled:e.isLoading,required:"",counter:255,rules:e.nameRules},model:{value:e.currentZone.name,callback:function(t){e.$set(e.currentZone,"name",t)},expression:"currentZone.name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-switch",{attrs:{label:"Active",disabled:e.isLoading},model:{value:e.currentZone.is_active,callback:function(t){e.$set(e.currentZone,"is_active",t)},expression:"currentZone.is_active"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Description",disabled:e.isLoading},model:{value:e.currentZone.description,callback:function(t){e.$set(e.currentZone,"description",t)},expression:"currentZone.description"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Overstay Limit",disabled:e.isLoading,rules:e.overstayLimitRules,required:""},model:{value:e.currentZone.overstay_limit,callback:function(t){e.$set(e.currentZone,"overstay_limit",t)},expression:"currentZone.overstay_limit"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.isLoading},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.isLoading,disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1)},s=[],l=(n("4160"),n("b0c0"),n("b64b"),n("159b"),n("2ef0")),c=n.n(l),d={id:null,name:"",description:"",is_active:!0,overstay_limit:"00:00",zone_group_id:null},p={props:{dialog:{type:Boolean,required:!0},zone:{required:!0},zoneGroup:{required:!0}},computed:{isEdit:function(){return c.a.has(this.zone,"id")&&!c.a.isNull(this.zone.id)},title:function(){return this.isEdit?"Edit Zone":"Create Zone"},zoneGroupName:function(){return c.a.isNull(this.zoneGroup)?"N/A":this.zoneGroup.name}},data:function(){return{currentZone:c.a.cloneDeep(d),isLoading:!1,error:null,valid:!0,nameRules:[function(e){return!!e||"Name is required."},function(e){return e&&e.length<=255||"Name must be less than 255 characters."}],overstayLimitRules:[function(e){return!!e||"Overstay Limit is required."},function(e){return/^[0-9][0-9]:[0-5][0-9]$/.test(e)||"Overstay Limit should be in HH:MM format."}]}},watch:{zone:function(e){var t=e;c.a.isNull(t)?this.currentZone=c.a.cloneDeep(d):(t=c.a.cloneDeep(e),Object.keys(t.config).forEach((function(e){t[e]=t.config[e]})),delete t.config,this.currentZone=t),this.error=null},zoneGroup:function(e){c.a.isNull(e)||c.a.isUndefined(e)||null===this.currentZone.id&&this.$set(this.currentZone,"overstay_limit",e.config.default_overstay_limit)}},methods:{handleInput:function(e){this.$emit("input",e)},close:function(){this.handleInput(!1),this.error=null,this.$refs.form.reset(),this.$refs.form.resetValidation()},save:function(){if(this.$refs.form.validate()&&!this.isLoading){this.$set(this.currentZone,"zone_group_id",this.zoneGroup.id);var e=this;e.isLoading=!0;var t=e.isEdit?i["b"].editZone(e.currentZone.id,e.currentZone):i["b"].createZone(e.currentZone);t.then((function(t){e.isLoading=!1,e.$emit("updated",t)})).catch((function(t){e.isLoading=!1;var n=i["b"].handleApiError(t);e.error=n}))}},handleErrorDismissed:function(e){e||(this.error=null)}}},f=p,v=n("2877"),h=n("6544"),m=n.n(h),g=n("0798"),_=n("8336"),b=n("b0af"),y=n("99d9"),Z=n("62ad"),z=n("a523"),G=n("169a"),x=n("4bd4"),D=n("0fd9"),L=n("2fa4"),V=n("b73d"),w=n("8654"),E=Object(v["a"])(f,u,s,!1,null,null,null),k=E.exports;m()(E,{VAlert:g["a"],VBtn:_["a"],VCard:b["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:Z["a"],VContainer:z["a"],VDialog:G["a"],VForm:x["a"],VRow:D["a"],VSpacer:L["a"],VSwitch:V["a"],VTextField:w["a"]});var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.dialog},on:{input:e.handleInput}},[n("v-card",[n("v-card-title",[e._v(e._s(e.title))]),null!==e.error?n("v-alert",{attrs:{dense:"",dismissible:"",type:"error"},on:{input:e.handleErrorDismissed}},[e._v(" "+e._s(e.error)+" ")]):e._e(),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:e.nameRules,label:"Name",disabled:e.isLoading,required:"",counter:255},model:{value:e.currentZoneGroup.name,callback:function(t){e.$set(e.currentZoneGroup,"name",t)},expression:"currentZoneGroup.name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Description",disabled:e.isLoading},model:{value:e.currentZoneGroup.description,callback:function(t){e.$set(e.currentZoneGroup,"description",t)},expression:"currentZoneGroup.description"}})],1)],1),e.isEdit?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-switch",{attrs:{label:"Replace Layout Image",disabled:e.isLoading},model:{value:e.replaceLayout,callback:function(t){e.replaceLayout=t},expression:"replaceLayout"}})],1)],1):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-file-input",{attrs:{label:"Layout",disabled:!e.replaceLayout||e.isLoading,required:e.replaceLayout,"prepend-icon":"mdi-image",accept:"image/x-png,image/jpeg",rules:e.layoutRules},model:{value:e.currentZoneGroup.layout,callback:function(t){e.$set(e.currentZoneGroup,"layout",t)},expression:"currentZoneGroup.layout"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Default Overstay Limit",disabled:e.isLoading,rules:e.overstayLimitRules,required:""},model:{value:e.currentZoneGroup.default_overstay_limit,callback:function(t){e.$set(e.currentZoneGroup,"default_overstay_limit",t)},expression:"currentZoneGroup.default_overstay_limit"}})],1)],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.isLoading},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.isLoading,disabled:!e.valid},on:{click:e.save}},[e._v("Save")])],1)],1)],1)},O=[],$=(n("a4d3"),n("e01a"),{id:null,name:"",description:"",layout:null,default_overstay_limit:"00:00"}),I={props:{dialog:{type:Boolean,required:!0},zoneGroup:{required:!0}},computed:{isEdit:function(){return c.a.has(this.zoneGroup,"id")&&!c.a.isNull(this.zoneGroup.id)},title:function(){return this.isEdit?"Edit Zone Group":"Create Zone Group"},layoutRules:function(){return this.replaceLayout?[function(e){return!!e||"Layout is required."}]:[]}},data:function(){return{currentZoneGroup:c.a.cloneDeep($),isLoading:!1,error:null,replaceLayout:!0,valid:!0,nameRules:[function(e){return!!e||"Name is required."},function(e){return e&&e.length<=255||"Name must be less than 255 characters."}],overstayLimitRules:[function(e){return!!e||"Overstay Limit is required."},function(e){return/^[0-9][0-9]:[0-5][0-9]$/.test(e)||"Overstay Limit should be in HH:MM format."}]}},watch:{zoneGroup:function(e){var t=e;c.a.isNull(t)?this.currentZoneGroup=c.a.cloneDeep($):(t=c.a.cloneDeep(e),Object.keys(t.config).forEach((function(e){t[e]=t.config[e]})),delete t.config,this.currentZoneGroup=t),this.replaceLayout=null===this.currentZoneGroup.id,this.error=null},replaceLayout:function(e){!1===e&&this.$set(this.currentZoneGroup,"layout",null)}},methods:{handleInput:function(e){this.$emit("input",e)},close:function(){this.handleInput(!1),this.$refs.form.reset(),this.$refs.form.resetValidation()},save:function(){if(this.$refs.form.validate()&&!this.isLoading){var e=this,t=new FormData,n=e.currentZoneGroup;null!==n.id&&t.append("id",n.id),t.append("name",n.name),t.append("description",n.description),t.append("is_active",n.is_active?"1":"0"),n.layout&&t.append("layout",n.layout),t.append("default_overstay_limit",n.default_overstay_limit),e.isLoading=!0;var o=e.isEdit?i["b"].editZoneGroup(e.currentZoneGroup.id,t):i["b"].createZoneGroup(t);o.then((function(t){e.isLoading=!1,e.$emit("updated",t)})).catch((function(t){e.isLoading=!1;var n=i["b"].handleApiError(t);e.error=n}))}},handleErrorDismissed:function(e){e||(this.error=null)},openLayoutImage:function(e){window.open(e,"_blank")}}},C=I,A=n("23a7"),T=Object(v["a"])(C,N,O,!1,null,null,null),S=T.exports;m()(T,{VAlert:g["a"],VBtn:_["a"],VCard:b["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:Z["a"],VContainer:z["a"],VDialog:G["a"],VFileInput:A["a"],VForm:x["a"],VRow:D["a"],VSpacer:L["a"],VSwitch:V["a"],VTextField:w["a"]});var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{headers:e.headers,items:e.zoneGroups,"single-expand":"",expanded:e.expanded,"item-key":"id","show-expand":"",loading:e.loading},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var o=t.headers,r=t.item;return[n("td",{attrs:{colspan:o.length}},[r.zones.length>0?n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Name")]),n("th",{staticClass:"text-left"},[e._v("Active")]),n("th",{staticClass:"text-left"},[e._v("Created At")]),n("th",{staticClass:"text-left"},[e._v("Updated At")]),n("th",{staticClass:"text-left"},[e._v("Actions")])])]),n("tbody",e._l(r.zones,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.name))]),n("td",[e._v(e._s(e._f("yesNo")(t.config.is_active)))]),n("td",[e._v(e._s(e._f("formatDateTime")(t.created_at)))]),n("td",[e._v(e._s(e._f("formatDateTime")(t.updated_at)))]),n("td",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(o){var a=o.on;return[n("v-icon",e._g({attrs:{small:"",disabled:!e.controlsEnabled},on:{click:function(n){return e.editZone(r,t)}}},a),[e._v("mdi-pencil")])]}}],null,!0)},[n("span",[e._v("Edit Zone "+e._s(t.name))])])],1)])})),0)]},proxy:!0}],null,!0)}):n("span",{staticClass:"text-center"},[e._v("No zone defined within ZoneGroup "+e._s(r.name)+"!")])],1)]}},{key:"item.layout",fn:function(t){var o=t.item;return[n("v-btn",{attrs:{outlined:""},on:{click:function(t){return e.openLayoutImage(o.layout)}}},[e._v(" View ")])]}},{key:"item.zone_count",fn:function(t){var o=t.item;return[n("span",{staticClass:"text-right"},[e._v(e._s(o.zones.length))])]}},{key:"item.actions",fn:function(t){var o=t.item;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g({attrs:{small:"",disabled:!e.controlsEnabled},on:{click:function(t){return e.createZone(o)}}},r),[e._v("mdi-plus-one")])]}}],null,!0)},[n("span",[e._v("Create Zone in ZoneGroup "+e._s(o.name))])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-icon",e._g({attrs:{small:"",disabled:!e.controlsEnabled},on:{click:function(t){return e.editZoneGroup(o)}}},r),[e._v("mdi-pencil")])]}}],null,!0)},[n("span",[e._v("Edit Zone Group "+e._s(o.name))])])]}}])})},U=[],j=n("144e"),q={filters:{yesNo:function(e){return e?"Yes":"No"}}},P=[{text:"",value:"data-table-expand"},{text:"Name",value:"name"},{text:"Layout",value:"layout",sortable:!1},{text:"# of Zones",value:"zone_count",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],B={mixins:[j["a"],q],props:{zoneGroups:{required:!0,type:Array},controlsEnabled:{required:!1,default:!0},loading:{required:!1,default:!1}},data:function(){return{expanded:[],headers:P}},methods:{createZone:function(e){this.$emit("create-zone",e)},editZone:function(e,t){this.$emit("edit-zone",e,t)},editZoneGroup:function(e){this.$emit("edit-zone-group",e)},openLayoutImage:function(e){this.$emit("open-layout-image",e)}}},H=B,F=n("8fea"),M=n("132d"),W=n("1f4f"),K=n("3a2f"),Y=Object(v["a"])(H,R,U,!1,null,null,null),J=Y.exports;m()(Y,{VBtn:_["a"],VDataTable:F["a"],VIcon:M["a"],VSimpleTable:W["a"],VTooltip:K["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.dialog},on:{input:e.handleInput}},[n("v-card",[n("v-img",{attrs:{src:e.src}})],1)],1)},X=[],ee=(n("99af"),n("2ca0"),{props:["url","dialog"],computed:{src:function(){return(this.url&&this.url.startsWith("http")?this.url:"".concat(i["b"].BASE_URL).concat(this.url))||"@/assets/no-image.jpg"}},methods:{handleInput:function(e){this.$emit("input",e)}}}),te=ee,ne=n("adda"),oe=Object(v["a"])(te,Q,X,!1,null,null,null),re=oe.exports;m()(oe,{VCard:b["a"],VDialog:G["a"],VImg:ne["a"]});var ae={components:{ZoneDialog:k,ZoneGroupDialog:S,ZoneTable:J,ImageDialog:re},data:function(){return{zoneGroups:[],activeZone:null,activeZoneGroup:null,error:null,zoneDialog:!1,zoneGroupDialog:!1,isLoading:!1,activeImageUrl:"",imageDialog:!1}},watch:{zoneDialog:function(e){e||(this.activeZone=null,this.activeZoneGroup=null)},zoneGroupDialog:function(e){e||(this.activeZoneGroup=null)}},mounted:function(){this.refresh()},methods:{refresh:function(){if(!this.isLoading){this.isLoading=!0;var e=this;i["b"].getAllZones().then((function(t){e.isLoading=!1,e.zoneGroups=t})).catch((function(t){e.isLoading=!1;var n=i["b"].handleApiError(t);e.error=n}))}},openImageDialog:function(e){this.activeImageUrl=e,this.imageDialog=!0},createZoneGroup:function(){this.activeZoneGroup=null,this.zoneGroupDialog=!0},editZoneGroup:function(e){this.activeZoneGroup=e,this.zoneGroupDialog=!0},createZone:function(e){this.activeZoneGroup=e,this.activeZone=null,this.zoneDialog=!0},editZone:function(e,t){this.activeZoneGroup=e,this.activeZone=t,this.zoneDialog=!0},handleZoneUpdated:function(e){var t=this.zoneGroups.findIndex((function(t){return t.id===e.zone_group_id}));if(-1!==t){var n=this.zoneGroups[t],o=n.zones.findIndex((function(t){return t.id===e.id}));-1!==o?n.zones[o]=e:n.zones.push(e),this.$set(this.zoneGroups,t,n),this.zoneDialog=!1,this.activeZone=null,this.activeZoneGroup=null}else this.error="Cannot find zoneGroup with id ".concat(e.zone_group_id," in collection! Please refresh data.")},handleZoneGroupUpdated:function(e){var t=this.zoneGroups.findIndex((function(t){return t.id===e.id}));-1!==t?this.$set(this.zoneGroups,t,e):this.zoneGroups.push(e),this.zoneGroupDialog=!1,this.activeZoneGroup=null},handleErrorDismissed:function(e){e||(this.error=null)}}},ie=ae,ue=n("7496"),se=n("a75b"),le=n("71d9"),ce=n("2a7f"),de=Object(v["a"])(ie,r,a,!1,null,null,null),pe=de.exports;m()(de,{VAlert:g["a"],VApp:ue["a"],VBtn:_["a"],VCol:Z["a"],VContainer:z["a"],VContent:se["a"],VIcon:M["a"],VRow:D["a"],VSpacer:L["a"],VToolbar:le["a"],VToolbarTitle:ce["a"]});var fe=n("402c");o["a"].config.productionTip=!1,new o["a"]({vuetify:fe["a"],render:function(e){return e(pe)}}).$mount("#app")}});
//# sourceMappingURL=zoneSettings.f5a48c5c.js.map