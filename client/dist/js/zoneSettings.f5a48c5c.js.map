{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common/date-time.js","webpack:///./src/common/mixins/date-time.js","webpack:///./src/api/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/pages/zone-settings/ZoneSettings.vue?fc38","webpack:///./src/pages/zone-settings/components/ZoneDialog.vue?ff1a","webpack:///./src/pages/zone-settings/components/ZoneDialog.vue","webpack:///./src/pages/zone-settings/components/ZoneDialog.vue?4896","webpack:///./src/pages/zone-settings/components/ZoneDialog.vue?391f","webpack:///./src/pages/zone-settings/components/ZoneGroupDialog.vue?a984","webpack:///./src/pages/zone-settings/components/ZoneGroupDialog.vue","webpack:///./src/pages/zone-settings/components/ZoneGroupDialog.vue?da6a","webpack:///./src/pages/zone-settings/components/ZoneGroupDialog.vue?45e7","webpack:///./src/pages/zone-settings/components/ZoneTable.vue?9166","webpack:///./src/common/mixins/yes-no.js","webpack:///./src/pages/zone-settings/components/ZoneTable.vue","webpack:///./src/pages/zone-settings/components/ZoneTable.vue?7928","webpack:///./src/pages/zone-settings/components/ZoneTable.vue?dcf7","webpack:///./src/pages/zone-settings/components/ImageDialog.vue?52ad","webpack:///./src/pages/zone-settings/components/ImageDialog.vue","webpack:///./src/pages/zone-settings/components/ImageDialog.vue?bc5d","webpack:///./src/pages/zone-settings/components/ImageDialog.vue?b3b0","webpack:///./src/pages/zone-settings/ZoneSettings.vue","webpack:///./src/pages/zone-settings/ZoneSettings.vue?03fc","webpack:///./src/pages/zone-settings/ZoneSettings.vue?050c","webpack:///./src/pages/zone-settings/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","DATE_TIME_FORMAT","day","month","year","hour","minute","second","DATE_FORMAT","TIME_FORMAT","formatDateTime","val","Date","toLocaleString","DateTimeFormat","e","formatDate","toDateString","formatTime","toTimeString","formatHour","Number","filters","ALERT_TYPES","UNKNOWN","UNAUTHORIZED","OVERSTAY","BASE_URL","process","API_BASE_URL","getZones","axios","then","response","getZonesByName","getPeopleCountHourlyInZone","zoneId","date","getPeopleWihtinDateTimeRange","dateTimeFrom","dateTimeTo","map","assign","from","to","getPeopleWihtinDate","getPeopleForZone","getAlertsForZone","dismissAlert","alertId","post","is_dismissed","createZone","zone","id","description","config","is_active","overstay_limit","zone_group","zone_group_id","editZone","patch","createZoneGroup","zoneGroup","headers","editZoneGroup","getAllZones","handleApiError","err","request","message","getAlertLabel","alert","Vue","use","Vuetify","_vm","this","_h","$createElement","_c","_self","attrs","_v","isLoading","on","refresh","error","handleErrorDismissed","_s","_e","zoneGroups","openImageDialog","activeZoneGroup","activeZone","zoneDialog","handleZoneUpdated","$event","zoneGroupDialog","handleZoneGroupUpdated","imageDialog","activeImageUrl","staticRenderFns","dialog","handleInput","title","ref","model","callback","$$v","valid","expression","zoneGroupName","nameRules","currentZone","$set","overstayLimitRules","close","save","EMPTY_ZONE","props","type","Boolean","required","computed","isEdit","_","has","isNull","cloneDeep","v","test","watch","newZone","keys","forEach","isUndefined","default_overstay_limit","methods","$emit","$refs","form","reset","resetValidation","validate","vm","apiPromise","api","catch","component","VAlert","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDialog","VForm","VRow","VSpacer","VSwitch","VTextField","currentZoneGroup","replaceLayout","layoutRules","EMPTY_ZONE_GROUP","layout","newZoneGroup","FormData","zoneGroupData","append","openLayoutImage","url","open","VFileInput","expanded","loading","scopedSlots","_u","fn","item","zones","staticClass","_l","_f","created_at","updated_at","_g","controlsEnabled","proxy","yesNo","text","sortable","mixins","DateTimeMixins","YesNoMixin","Array","default","VDataTable","VIcon","VSimpleTable","VTooltip","src","startsWith","VImg","components","ZoneDialog","ZoneGroupDialog","ZoneTable","ImageDialog","mounted","zoneGroupIndex","findIndex","zg","zoneIndex","z","idx","VApp","VContent","VToolbar","VToolbarTitle","productionTip","vuetify","render","h","ZoneSettings","$mount"],"mappings":"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","file":"js/zoneSettings.f5a48c5c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"zoneSettings\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export const DATE_TIME_FORMAT = {\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n}\n\nexport const DATE_FORMAT = {\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric'\n}\n\nexport const TIME_FORMAT = {\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n}\n","import * as DateTimeFormat from '../date-time'\n\nfunction formatDateTime (val) {\n  if (!val) return ''\n  if (val instanceof Date) {\n    return val.toLocaleString(DateTimeFormat.DATE_TIME_FORMAT)\n  }\n  try {\n    return (new Date(val)).toLocaleString(DateTimeFormat.DATE_TIME_FORMAT)\n  } catch (e) {\n    return 'Invalid Date'\n  }\n}\n\nfunction formatDate (val) {\n  if (!val) return ''\n  if (val instanceof Date) {\n    return val.toDateString(DateTimeFormat.DATE_FORMAT)\n  }\n  // try to parse\n  try {\n    return (new Date(val)).toDateString(DateTimeFormat.DATE_FORMAT)\n  } catch (e) {\n    return 'Invalid Date'\n  }\n}\n\nfunction formatTime (val) {\n  if (!val) return ''\n  if (val instanceof Date) {\n    return val.toTimeString(DateTimeFormat.TIME_FORMAT)\n  }\n  try {\n    return (new Date(val)).toTimeString(DateTimeFormat.TIME_FORMAT)\n  } catch (e) {\n    return 'Invalid Time'\n  }\n}\n\nfunction formatHour (val) {\n  if (val instanceof Number) {\n    if (val < 0) {\n      return 'Invalid Hour'\n    }\n    return val < 10 ? `0${val}:00` : `${val}:00`\n  }\n  return 'Invalid Hour'\n}\n\nexport default {\n  filters: { formatDate, formatDateTime, formatTime, formatHour }\n}\n","import axios from 'axios'\n\nconst ALERT_TYPES = {\n  UNKNOWN: 'U',\n  UNAUTHORIZED: 'A',\n  OVERSTAY: 'O'\n}\n\nconst BASE_URL = process.env.API_BASE_URL || 'http://localhost:3000'\n\nfunction getZones () {\n  return axios.get(`${BASE_URL}/zones`)\n    .then(response => response.data)\n}\n\nfunction getZonesByName (name) {\n  return axios.get(`${BASE_URL}/zones?name=${name}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleCountHourlyInZone (zoneId, date) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/hourly-count?date=${date}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleWihtinDateTimeRange (zoneId, dateTimeFrom, dateTimeTo) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people-within?ts_from=${dateTimeFrom}&ts_to=${dateTimeTo}`)\n    .then(response => response.data.map(r => Object.assign(r, {\n      from: new Date(r.from),\n      to: r.to ? new Date(r.to) : null\n    })))\n}\n\nfunction getPeopleWihtinDate (zoneId, date) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people-within?date=${date}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleForZone (zoneId) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people`)\n    .then(response => response.data)\n}\n\nfunction getAlertsForZone (zoneId, isDismissed = false) {\n  return axios.get(`${BASE_URL}/zones/alerts?zone_ids=${zoneId}`)\n    .then(response => response.data)\n}\n\nfunction dismissAlert (alertId) {\n  return axios.post(`${BASE_URL}/zones/alerts/${alertId}`, { is_dismissed: true })\n    .then(response => response.data)\n}\n\nfunction createZone (zone) {\n  // reconstruct\n  const data = {\n    id: zone.id,\n    name: zone.name,\n    description: zone.description,\n    config: {\n      is_active: zone.is_active,\n      overstay_limit: zone.overstay_limit\n    },\n    zone_group: zone.zone_group_id\n  }\n\n  return axios.post(`${BASE_URL}/zones`, data)\n    .then(response => response.data)\n    .then(data => {\n      data.zone_group_id = data.zone_group.id\n      delete data.zone_group\n      return data\n    })\n}\n\nfunction editZone (id, zone) {\n  // reconstruct\n  const data = {\n    id: zone.id,\n    name: zone.name,\n    description: zone.description,\n    config: {\n      is_active: zone.is_active,\n      overstay_limit: zone.overstay_limit\n    },\n    zone_group: zone.zone_group_id\n  }\n\n  return axios.patch(`${BASE_URL}/zones/${id}`, data)\n    .then(response => response.data)\n    .then(data => {\n      data.zone_group_id = data.zone_group.id\n      delete data.zone_group\n      return data\n    })\n}\n\nfunction createZoneGroup (zoneGroup) {\n  return axios.post(`${BASE_URL}/zones/groups`, zoneGroup, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n    .then(response => response.data)\n}\n\nfunction editZoneGroup (id, zoneGroup) {\n  return axios.patch(`${BASE_URL}/zones/groups/${id}`, zoneGroup, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n    .then(response => response.data)\n}\n\nfunction getAllZones () {\n  return axios.get(`${BASE_URL}/zones/?all=true`)\n    .then(response => response.data)\n}\n\nfunction handleApiError (err) {\n  if (err.response) {\n    return err.response.data\n  } else if (err.request) {\n    return 'Error while processing request!'\n  } else {\n    return err.message ? err.message : 'UNKNOWN'\n  }\n}\n\nfunction getAlertLabel (alert) {\n  switch (alert) {\n    case ALERT_TYPES.UNKNOWN:\n      return 'Unknown person'\n    case ALERT_TYPES.UNAUTHORIZED:\n      return 'Unauthorized'\n    case ALERT_TYPES.OVERSTAY:\n      return 'Overstay'\n    default:\n      return 'UNKNOWN ALERT'\n  }\n}\n\nexport { ALERT_TYPES, getAlertLabel }\nexport default {\n  getZones,\n  getAllZones,\n  getZonesByName,\n  getPeopleForZone,\n  getAlertsForZone,\n  dismissAlert,\n  getPeopleWihtinDateTimeRange,\n  getPeopleWihtinDate,\n  getPeopleCountHourlyInZone,\n  createZone,\n  editZone,\n  createZoneGroup,\n  editZoneGroup,\n  handleApiError,\n  BASE_URL\n}\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"col\":\"12\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Zones\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":_vm.isLoading,\"color\":\"primary\",\"text\":\"\"},on:{\"click\":_vm.refresh}},[_vm._v(\" Refresh \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-refresh\")])],1),_c('v-btn',{attrs:{\"disabled\":_vm.isLoading,\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.createZoneGroup}},[_vm._v(\" Create Zone Group \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-plus\")])],1)],1)],1)],1),(_vm.error !== null)?_c('v-row',[_c('v-col',{attrs:{\"col\":\"12\"}},[_c('v-alert',{attrs:{\"dense\":\"\",\"dismissible\":\"\",\"type\":\"error\"},on:{\"input\":_vm.handleErrorDismissed}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")])],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"col\":\"12\"}},[_c('ZoneTable',{attrs:{\"zone-groups\":_vm.zoneGroups,\"controls-enabled\":!_vm.isLoading,\"loading\":_vm.isLoading},on:{\"open-layout-image\":_vm.openImageDialog,\"create-zone\":_vm.createZone,\"edit-zone-group\":_vm.editZoneGroup,\"edit-zone\":_vm.editZone}})],1)],1)],1),_c('ZoneDialog',{attrs:{\"zoneGroup\":_vm.activeZoneGroup,\"zone\":_vm.activeZone,\"dialog\":_vm.zoneDialog},on:{\"updated\":_vm.handleZoneUpdated,\"input\":function($event){_vm.zoneDialog = $event}}}),_c('ZoneGroupDialog',{attrs:{\"zoneGroup\":_vm.activeZoneGroup,\"dialog\":_vm.zoneGroupDialog},on:{\"updated\":_vm.handleZoneGroupUpdated,\"input\":function($event){_vm.zoneGroupDialog = $event}}}),_c('ImageDialog',{attrs:{\"dialog\":_vm.imageDialog,\"url\":_vm.activeImageUrl},on:{\"input\":function($event){_vm.imageDialog = $event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.dialog},on:{\"input\":_vm.handleInput}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.error !== null)?_c('v-alert',{attrs:{\"dense\":\"\",\"dismissible\":\"\",\"type\":\"error\"},on:{\"input\":_vm.handleErrorDismissed}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"value\":_vm.zoneGroupName,\"label\":\"Zone Group\",\"readonly\":\"\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"disabled\":_vm.isLoading,\"required\":\"\",\"counter\":255,\"rules\":_vm.nameRules},model:{value:(_vm.currentZone.name),callback:function ($$v) {_vm.$set(_vm.currentZone, \"name\", $$v)},expression:\"currentZone.name\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-switch',{attrs:{\"label\":\"Active\",\"disabled\":_vm.isLoading},model:{value:(_vm.currentZone.is_active),callback:function ($$v) {_vm.$set(_vm.currentZone, \"is_active\", $$v)},expression:\"currentZone.is_active\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Description\",\"disabled\":_vm.isLoading},model:{value:(_vm.currentZone.description),callback:function ($$v) {_vm.$set(_vm.currentZone, \"description\", $$v)},expression:\"currentZone.description\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Overstay Limit\",\"disabled\":_vm.isLoading,\"rules\":_vm.overstayLimitRules,\"required\":\"\"},model:{value:(_vm.currentZone.overstay_limit),callback:function ($$v) {_vm.$set(_vm.currentZone, \"overstay_limit\", $$v)},expression:\"currentZone.overstay_limit\"}})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.close}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.isLoading,\"disabled\":!_vm.valid},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/api'\nimport _ from 'lodash'\n\nconst EMPTY_ZONE = {\n  id: null,\n  name: '',\n  description: '',\n  is_active: true,\n  overstay_limit: '00:00',\n  zone_group_id: null\n}\n\nexport default {\n  props: {\n    dialog: {\n      type: Boolean,\n      required: true\n    },\n    zone: {\n      required: true\n    },\n    zoneGroup: {\n      required: true\n    }\n  },\n\n  computed: {\n    isEdit () {\n      return _.has(this.zone, 'id') && !_.isNull(this.zone.id)\n    },\n    title () {\n      return this.isEdit ? 'Edit Zone' : 'Create Zone'\n    },\n    zoneGroupName () {\n      return _.isNull(this.zoneGroup) ? 'N/A' : this.zoneGroup.name\n    }\n  },\n\n  data () {\n    return {\n      currentZone: _.cloneDeep(EMPTY_ZONE),\n      isLoading: false,\n      error: null,\n\n      valid: true,\n      nameRules: [\n        v => !!v || 'Name is required.',\n        v => (v && v.length <= 255) || 'Name must be less than 255 characters.'\n      ],\n      overstayLimitRules: [\n        v => !!v || 'Overstay Limit is required.',\n        v => /^[0-9][0-9]:[0-5][0-9]$/.test(v) || 'Overstay Limit should be in HH:MM format.'\n      ]\n    }\n  },\n\n  watch: {\n    zone (val) {\n      let newZone = val\n      if (_.isNull(newZone)) {\n        this.currentZone = _.cloneDeep(EMPTY_ZONE)\n      } else {\n        // `config` needs to be flat-mapped. assumption: no key is overriding the parent key.\n        newZone = _.cloneDeep(val)\n        Object.keys(newZone.config).forEach(key => {\n          newZone[key] = newZone.config[key]\n        })\n        delete newZone.config\n        this.currentZone = newZone\n      }\n      this.error = null\n    },\n    zoneGroup (val) {\n      if (!_.isNull(val) && !_.isUndefined(val)) {\n        if (this.currentZone.id === null) {\n          this.$set(this.currentZone, 'overstay_limit', val.config.default_overstay_limit)\n        }\n      }\n    }\n  },\n\n  methods: {\n    handleInput (val) {\n      this.$emit('input', val)\n    },\n    close () {\n      this.handleInput(false)\n      this.error = null\n      this.$refs.form.reset()\n      this.$refs.form.resetValidation()\n    },\n    save () {\n      if (!this.$refs.form.validate()) {\n        return\n      }\n\n      if (this.isLoading) {\n        return\n      }\n\n      this.$set(this.currentZone, 'zone_group_id', this.zoneGroup.id)\n\n      const vm = this\n      vm.isLoading = true\n      const apiPromise = vm.isEdit ? api.editZone(vm.currentZone.id, vm.currentZone) : api.createZone(vm.currentZone)\n      apiPromise.then(zone => {\n        vm.isLoading = false\n        vm.$emit('updated', zone)\n      })\n        .catch(err => {\n          vm.isLoading = false\n          const message = api.handleApiError(err)\n          vm.error = message\n        })\n    },\n    handleErrorDismissed (val) {\n      if (!val) {\n        this.error = null\n      }\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneDialog.vue?vue&type=template&id=4a87bbaf&\"\nimport script from \"./ZoneDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VForm,VRow,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.dialog},on:{\"input\":_vm.handleInput}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.title))]),(_vm.error !== null)?_c('v-alert',{attrs:{\"dense\":\"\",\"dismissible\":\"\",\"type\":\"error\"},on:{\"input\":_vm.handleErrorDismissed}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Name\",\"disabled\":_vm.isLoading,\"required\":\"\",\"counter\":255},model:{value:(_vm.currentZoneGroup.name),callback:function ($$v) {_vm.$set(_vm.currentZoneGroup, \"name\", $$v)},expression:\"currentZoneGroup.name\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Description\",\"disabled\":_vm.isLoading},model:{value:(_vm.currentZoneGroup.description),callback:function ($$v) {_vm.$set(_vm.currentZoneGroup, \"description\", $$v)},expression:\"currentZoneGroup.description\"}})],1)],1),(_vm.isEdit)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-switch',{attrs:{\"label\":\"Replace Layout Image\",\"disabled\":_vm.isLoading},model:{value:(_vm.replaceLayout),callback:function ($$v) {_vm.replaceLayout=$$v},expression:\"replaceLayout\"}})],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-file-input',{attrs:{\"label\":\"Layout\",\"disabled\":!_vm.replaceLayout || _vm.isLoading,\"required\":_vm.replaceLayout,\"prepend-icon\":\"mdi-image\",\"accept\":\"image/x-png,image/jpeg\",\"rules\":_vm.layoutRules},model:{value:(_vm.currentZoneGroup.layout),callback:function ($$v) {_vm.$set(_vm.currentZoneGroup, \"layout\", $$v)},expression:\"currentZoneGroup.layout\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"Default Overstay Limit\",\"disabled\":_vm.isLoading,\"rules\":_vm.overstayLimitRules,\"required\":\"\"},model:{value:(_vm.currentZoneGroup.default_overstay_limit),callback:function ($$v) {_vm.$set(_vm.currentZoneGroup, \"default_overstay_limit\", $$v)},expression:\"currentZoneGroup.default_overstay_limit\"}})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.isLoading},on:{\"click\":_vm.close}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"loading\":_vm.isLoading,\"disabled\":!_vm.valid},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport _ from 'lodash'\nimport api from '@/api'\n\nconst EMPTY_ZONE_GROUP = {\n  id: null,\n  name: '',\n  description: '',\n  layout: null,\n  default_overstay_limit: '00:00'\n}\n\nexport default {\n  props: {\n    dialog: {\n      type: Boolean,\n      required: true\n    },\n    zoneGroup: {\n      required: true\n    }\n  },\n\n  computed: {\n    isEdit () {\n      return _.has(this.zoneGroup, 'id') && !_.isNull(this.zoneGroup.id)\n    },\n    title () {\n      return this.isEdit ? 'Edit Zone Group' : 'Create Zone Group'\n    },\n    layoutRules () {\n      return this.replaceLayout ? [\n        v => !!v || 'Layout is required.'\n      ] : []\n    }\n  },\n\n  data () {\n    return {\n      currentZoneGroup: _.cloneDeep(EMPTY_ZONE_GROUP),\n      isLoading: false,\n      error: null,\n      replaceLayout: true,\n\n      valid: true,\n      nameRules: [\n        v => !!v || 'Name is required.',\n        v => (v && v.length <= 255) || 'Name must be less than 255 characters.'\n      ],\n      overstayLimitRules: [\n        v => !!v || 'Overstay Limit is required.',\n        v => /^[0-9][0-9]:[0-5][0-9]$/.test(v) || 'Overstay Limit should be in HH:MM format.'\n      ]\n    }\n  },\n\n  watch: {\n    zoneGroup (val) {\n      let newZoneGroup = val\n      if (_.isNull(newZoneGroup)) {\n        this.currentZoneGroup = _.cloneDeep(EMPTY_ZONE_GROUP)\n      } else {\n        newZoneGroup = _.cloneDeep(val)\n        // `config` needs to be flat-mapped. assumption: no key is overriding the parent key.\n        Object.keys(newZoneGroup.config).forEach(key => {\n          newZoneGroup[key] = newZoneGroup.config[key]\n        })\n        delete newZoneGroup.config\n        this.currentZoneGroup = newZoneGroup\n      }\n      this.replaceLayout = this.currentZoneGroup.id === null\n      this.error = null\n    },\n    replaceLayout (val) {\n      if (val === false) {\n        this.$set(this.currentZoneGroup, 'layout', null)\n      }\n    }\n  },\n\n  methods: {\n    handleInput (val) {\n      this.$emit('input', val)\n    },\n    close () {\n      this.handleInput(false)\n      this.$refs.form.reset()\n      this.$refs.form.resetValidation()\n    },\n    save () {\n      if (!this.$refs.form.validate()) {\n        return\n      }\n\n      if (this.isLoading) {\n        return\n      }\n\n      const vm = this\n      // conversion needed, since we may upload a file\n      const data = new FormData()\n      const zoneGroupData = vm.currentZoneGroup\n      if (zoneGroupData.id !== null) {\n        data.append('id', zoneGroupData.id)\n      }\n      data.append('name', zoneGroupData.name)\n      data.append('description', zoneGroupData.description)\n      data.append('is_active', zoneGroupData.is_active ? '1' : '0')\n      if (zoneGroupData.layout) {\n        data.append('layout', zoneGroupData.layout)\n      }\n      data.append('default_overstay_limit', zoneGroupData.default_overstay_limit)\n\n      vm.isLoading = true\n      const apiPromise = vm.isEdit ? api.editZoneGroup(vm.currentZoneGroup.id, data) : api.createZoneGroup(data)\n      apiPromise.then(zoneGroup => {\n        vm.isLoading = false\n        vm.$emit('updated', zoneGroup)\n      })\n        .catch(err => {\n          vm.isLoading = false\n          const message = api.handleApiError(err)\n          vm.error = message\n        })\n    },\n    handleErrorDismissed (val) {\n      if (!val) {\n        this.error = null\n      }\n    },\n    openLayoutImage (url) {\n      window.open(url, '_blank')\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneGroupDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneGroupDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneGroupDialog.vue?vue&type=template&id=645f3238&\"\nimport script from \"./ZoneGroupDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneGroupDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDialog,VFileInput,VForm,VRow,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.zoneGroups,\"single-expand\":\"\",\"expanded\":_vm.expanded,\"item-key\":\"id\",\"show-expand\":\"\",\"loading\":_vm.loading},on:{\"update:expanded\":function($event){_vm.expanded=$event}},scopedSlots:_vm._u([{key:\"expanded-item\",fn:function(ref){\nvar headers = ref.headers;\nvar item = ref.item;\nreturn [_c('td',{attrs:{\"colspan\":headers.length}},[(item.zones.length > 0)?_c('v-simple-table',{scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Active\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Created At\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Updated At\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"Actions\")])])]),_c('tbody',_vm._l((item.zones),function(zone){return _c('tr',{key:zone.id},[_c('td',[_vm._v(_vm._s(zone.name))]),_c('td',[_vm._v(_vm._s(_vm._f(\"yesNo\")(zone.config.is_active)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"formatDateTime\")(zone.created_at)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"formatDateTime\")(zone.updated_at)))]),_c('td',[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"small\":\"\",\"disabled\":!_vm.controlsEnabled},on:{\"click\":function($event){return _vm.editZone(item, zone)}}},on),[_vm._v(\"mdi-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"Edit Zone \"+_vm._s(zone.name))])])],1)])}),0)]},proxy:true}],null,true)}):_c('span',{staticClass:\"text-center\"},[_vm._v(\"No zone defined within ZoneGroup \"+_vm._s(item.name)+\"!\")])],1)]}},{key:\"item.layout\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.openLayoutImage(item.layout)}}},[_vm._v(\" View \")])]}},{key:\"item.zone_count\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{staticClass:\"text-right\"},[_vm._v(_vm._s(item.zones.length))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"small\":\"\",\"disabled\":!_vm.controlsEnabled},on:{\"click\":function($event){return _vm.createZone(item)}}},on),[_vm._v(\"mdi-plus-one\")])]}}],null,true)},[_c('span',[_vm._v(\"Create Zone in ZoneGroup \"+_vm._s(item.name))])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"small\":\"\",\"disabled\":!_vm.controlsEnabled},on:{\"click\":function($event){return _vm.editZoneGroup(item)}}},on),[_vm._v(\"mdi-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"Edit Zone Group \"+_vm._s(item.name))])])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  filters: {\n    yesNo (val) {\n      return val ? 'Yes' : 'No'\n    }\n  }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DateTimeMixins from '@/common/mixins/date-time'\nimport YesNoMixin from '@/common/mixins/yes-no'\n\nconst headers = [\n  { text: '', value: 'data-table-expand' },\n  { text: 'Name', value: 'name' },\n  { text: 'Layout', value: 'layout', sortable: false },\n  { text: '# of Zones', value: 'zone_count', sortable: false },\n  { text: 'Actions', value: 'actions', sortable: false }\n]\n\nexport default {\n  mixins: [DateTimeMixins, YesNoMixin],\n  props: {\n    zoneGroups: {\n      required: true,\n      type: Array\n    },\n    controlsEnabled: {\n      required: false,\n      default: true\n    },\n    loading: {\n      required: false,\n      default: false\n    }\n  },\n\n  data () {\n    return {\n      expanded: [],\n      headers\n    }\n  },\n\n  methods: {\n    createZone (zoneGroup) {\n      this.$emit('create-zone', zoneGroup)\n    },\n    editZone (zoneGroup, zone) {\n      this.$emit('edit-zone', zoneGroup, zone)\n    },\n    editZoneGroup (zoneGroup) {\n      this.$emit('edit-zone-group', zoneGroup)\n    },\n    openLayoutImage (url) {\n      this.$emit('open-layout-image', url)\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneTable.vue?vue&type=template&id=5552e16c&\"\nimport script from \"./ZoneTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VDataTable,VIcon,VSimpleTable,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.dialog},on:{\"input\":_vm.handleInput}},[_c('v-card',[_c('v-img',{attrs:{\"src\":_vm.src}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/api'\n\nexport default {\n  props: ['url', 'dialog'],\n\n  computed: {\n    src () {\n      return (this.url && this.url.startsWith('http') ? this.url : `${api.BASE_URL}${this.url}`) || '@/assets/no-image.jpg'\n    }\n  },\n  methods: {\n    handleInput (val) {\n      this.$emit('input', val)\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageDialog.vue?vue&type=template&id=295999d2&\"\nimport script from \"./ImageDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VImg } from 'vuetify/lib/components/VImg';\ninstallComponents(component, {VCard,VDialog,VImg})\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '@/api'\n\nimport ZoneDialog from './components/ZoneDialog.vue'\nimport ZoneGroupDialog from './components/ZoneGroupDialog.vue'\nimport ZoneTable from './components/ZoneTable.vue'\nimport ImageDialog from './components/ImageDialog.vue'\n\nexport default {\n  components: { ZoneDialog, ZoneGroupDialog, ZoneTable, ImageDialog },\n\n  data () {\n    return {\n      zoneGroups: [],\n      activeZone: null,\n      activeZoneGroup: null,\n\n      error: null,\n      zoneDialog: false,\n      zoneGroupDialog: false,\n      isLoading: false,\n\n      activeImageUrl: '',\n      imageDialog: false\n    }\n  },\n\n  watch: {\n    zoneDialog (val) {\n      if (!val) {\n        this.activeZone = null\n        this.activeZoneGroup = null\n      }\n    },\n    zoneGroupDialog (val) {\n      if (!val) {\n        this.activeZoneGroup = null\n      }\n    }\n  },\n\n  mounted () {\n    this.refresh()\n  },\n\n  methods: {\n    refresh () {\n      if (this.isLoading) {\n        return\n      }\n      this.isLoading = true\n      const vm = this\n      api.getAllZones()\n        .then(result => {\n          vm.isLoading = false\n          vm.zoneGroups = result\n        })\n        .catch(err => {\n          vm.isLoading = false\n          const message = api.handleApiError(err)\n          vm.error = message\n        })\n    },\n    openImageDialog (url) {\n      this.activeImageUrl = url\n      this.imageDialog = true\n    },\n\n    createZoneGroup () {\n      this.activeZoneGroup = null\n      this.zoneGroupDialog = true\n    },\n\n    editZoneGroup (zoneGroup) {\n      this.activeZoneGroup = zoneGroup\n      this.zoneGroupDialog = true\n    },\n\n    createZone (zoneGroup) {\n      this.activeZoneGroup = zoneGroup\n      this.activeZone = null\n      this.zoneDialog = true\n    },\n\n    editZone (zoneGroup, zone) {\n      this.activeZoneGroup = zoneGroup\n      this.activeZone = zone\n      this.zoneDialog = true\n    },\n\n    handleZoneUpdated (zone) {\n      const zoneGroupIndex = this.zoneGroups.findIndex(zg => zg.id === zone.zone_group_id)\n      if (zoneGroupIndex === -1) {\n        this.error = `Cannot find zoneGroup with id ${zone.zone_group_id} in collection! Please refresh data.`\n        return\n      }\n      const zoneGroup = this.zoneGroups[zoneGroupIndex]\n      const zoneIndex = zoneGroup.zones.findIndex(z => z.id === zone.id)\n\n      if (zoneIndex !== -1) {\n        zoneGroup.zones[zoneIndex] = zone\n      } else {\n        zoneGroup.zones.push(zone)\n      }\n      this.$set(this.zoneGroups, zoneGroupIndex, zoneGroup)\n      this.zoneDialog = false\n      this.activeZone = null\n      this.activeZoneGroup = null\n    },\n\n    handleZoneGroupUpdated (zoneGroup) {\n      const idx = this.zoneGroups.findIndex(zg => zg.id === zoneGroup.id)\n      if (idx !== -1) {\n        // this assumes that when zoneGroup is updated in the API, all of the zones inside it is included in the response.\n        this.$set(this.zoneGroups, idx, zoneGroup)\n      } else {\n        this.zoneGroups.push(zoneGroup)\n      }\n      this.zoneGroupDialog = false\n      this.activeZoneGroup = null\n    },\n    handleErrorDismissed (val) {\n      if (!val) {\n        this.error = null\n      }\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneSettings.vue?vue&type=template&id=2af62783&\"\nimport script from \"./ZoneSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneSettings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VApp,VBtn,VCol,VContainer,VContent,VIcon,VRow,VSpacer,VToolbar,VToolbarTitle})\n","import Vue from 'vue'\nimport ZoneSettings from './ZoneSettings.vue'\nimport vuetify from '@/plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(ZoneSettings)\n}).$mount('#app')\n"],"sourceRoot":""}