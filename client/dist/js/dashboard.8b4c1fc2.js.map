{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common/date-time.js","webpack:///./src/pages/dashboard/components/ZoneButton.vue?64d5","webpack:///./src/api/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/pages/dashboard/Dashboard.vue?92ad","webpack:///./src/pages/dashboard/components/ZoneButton.vue?37cd","webpack:///./src/pages/dashboard/components/ZoneButton.vue","webpack:///./src/pages/dashboard/components/ZoneButton.vue?19af","webpack:///./src/pages/dashboard/components/ZoneButton.vue?e649","webpack:///./src/pages/dashboard/components/ZoneDialog.vue?95a9","webpack:///./src/pages/dashboard/components/ZonePeopleView.vue?a5aa","webpack:///./src/pages/dashboard/components/ZonePeopleView.vue","webpack:///./src/pages/dashboard/components/ZonePeopleView.vue?23a6","webpack:///./src/pages/dashboard/components/ZonePeopleView.vue?4070","webpack:///./src/pages/dashboard/components/ZoneAlertView.vue?2017","webpack:///./src/pages/dashboard/components/ZoneAlertView.vue","webpack:///./src/pages/dashboard/components/ZoneAlertView.vue?1eeb","webpack:///./src/pages/dashboard/components/ZoneAlertView.vue?7cec","webpack:///./src/pages/dashboard/components/ZoneDialog.vue","webpack:///./src/pages/dashboard/Dashboard.vue","webpack:///./src/pages/dashboard/components/ZoneDialog.vue?b7fd","webpack:///./src/pages/dashboard/components/ZoneDialog.vue?5b28","webpack:///./src/pages/dashboard/Dashboard.vue?6db4","webpack:///./src/pages/dashboard/Dashboard.vue?51f5","webpack:///./src/pages/dashboard/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","DATE_TIME_FORMAT","day","month","year","hour","minute","second","DATE_FORMAT","TIME_FORMAT","ALERT_TYPES","UNKNOWN","UNAUTHORIZED","OVERSTAY","BASE_URL","process","API_BASE_URL","getZones","axios","then","response","getZonesByName","getPeopleCountHourlyInZone","zoneId","date","getPeopleWihtinDateTimeRange","dateTimeFrom","dateTimeTo","map","assign","from","Date","to","getPeopleWihtinDate","getPeopleForZone","getAlertsForZone","dismissAlert","alertId","post","is_dismissed","createZone","zone","id","description","config","is_active","overstay_limit","zone_group","zone_group_id","editZone","patch","createZoneGroup","zoneGroup","headers","editZoneGroup","getAllZones","handleApiError","err","request","message","getAlertLabel","alert","Vue","use","Vuetify","_vm","this","_h","$createElement","_c","_self","attrs","_v","isLoading","on","refreshZones","model","callback","$$v","activeZoneGroup","expression","_l","group","_s","staticClass","layout","persons_count","alertUnauthorized","alertUnknownPerson","alertOverstay","$event","openZoneDialog","activeZone","handlePeopleUpdated","handleAlertsUpdated","dialog","staticRenderFns","clicked","peopleCount","scopedSlots","_u","fn","ref","_g","class","unauthorizedClass","overstayClass","unknownPersonClass","props","String","Number","Boolean","computed","methods","$emit","component","VBtn","VIcon","VTooltip","handleDialog","closeDialog","alertType","alertMessage","tab","item","people","loading","tracePerson","refreshPeople","zoneAlerts","refreshAlerts","_e","refreshData","proxy","toLocaleString","dateTimeFormatOptions","avatar","alerts","alertClass","alertLabel","text","sortable","type","default","Array","required","customSort","items","index","isDesc","sort","a","b","dateA","dateB","alertsA","alertsB","nameA","toUpperCase","nameB","idA","idB","personId","VAvatar","VDataTable","VImg","VSpacer","VToolbar","person","is_known","api","refreshInterval","TABS","components","ZonePeopleView","ZoneAlertView","prop","event","tabItems","watch","val","_","isNull","$nextTick","availableAlerts","alertUnknown","forEach","showAlert","vm","count","catch","console","error","updatedPeople","has","existingAlerts","includes","values","existingPersonIndex","findIndex","existingPerson","union","$set","isPlainObject","isUndefined","clearInterval","VAlert","VCard","VDialog","VTab","VTabItem","VTabs","VTabsItems","VToolbarTitle","zoneGroups","ZoneButton","ZoneDialog","isOpen","activeZoneGroupIdx","currentZoneIdx","zones","z","currentZone","setInterval","mounted","VApp","VCol","VContainer","VContent","VProgressCircular","VRow","VTabsSlider","productionTip","vuetify","render","h","Dashboard","$mount"],"mappings":"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","file":"js/dashboard.8b4c1fc2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"dashboard\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export const DATE_TIME_FORMAT = {\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n}\n\nexport const DATE_FORMAT = {\n  day: 'numeric',\n  month: 'short',\n  year: 'numeric'\n}\n\nexport const TIME_FORMAT = {\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneButton.vue?vue&type=style&index=0&id=e7fc7c9e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneButton.vue?vue&type=style&index=0&id=e7fc7c9e&lang=sass&scoped=true&\"","import axios from 'axios'\n\nconst ALERT_TYPES = {\n  UNKNOWN: 'U',\n  UNAUTHORIZED: 'A',\n  OVERSTAY: 'O'\n}\n\nconst BASE_URL = process.env.API_BASE_URL || 'http://localhost:3000'\n\nfunction getZones () {\n  return axios.get(`${BASE_URL}/zones`)\n    .then(response => response.data)\n}\n\nfunction getZonesByName (name) {\n  return axios.get(`${BASE_URL}/zones?name=${name}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleCountHourlyInZone (zoneId, date) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/hourly-count?date=${date}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleWihtinDateTimeRange (zoneId, dateTimeFrom, dateTimeTo) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people-within?ts_from=${dateTimeFrom}&ts_to=${dateTimeTo}`)\n    .then(response => response.data.map(r => Object.assign(r, {\n      from: new Date(r.from),\n      to: r.to ? new Date(r.to) : null\n    })))\n}\n\nfunction getPeopleWihtinDate (zoneId, date) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people-within?date=${date}`)\n    .then(response => response.data)\n}\n\nfunction getPeopleForZone (zoneId) {\n  return axios.get(`${BASE_URL}/zones/${zoneId}/people`)\n    .then(response => response.data)\n}\n\nfunction getAlertsForZone (zoneId, isDismissed = false) {\n  return axios.get(`${BASE_URL}/zones/alerts?zone_ids=${zoneId}`)\n    .then(response => response.data)\n}\n\nfunction dismissAlert (alertId) {\n  return axios.post(`${BASE_URL}/zones/alerts/${alertId}`, { is_dismissed: true })\n    .then(response => response.data)\n}\n\nfunction createZone (zone) {\n  // reconstruct\n  const data = {\n    id: zone.id,\n    name: zone.name,\n    description: zone.description,\n    config: {\n      is_active: zone.is_active,\n      overstay_limit: zone.overstay_limit\n    },\n    zone_group: zone.zone_group_id\n  }\n\n  return axios.post(`${BASE_URL}/zones`, data)\n    .then(response => response.data)\n    .then(data => {\n      data.zone_group_id = data.zone_group.id\n      delete data.zone_group\n      return data\n    })\n}\n\nfunction editZone (id, zone) {\n  // reconstruct\n  const data = {\n    id: zone.id,\n    name: zone.name,\n    description: zone.description,\n    config: {\n      is_active: zone.is_active,\n      overstay_limit: zone.overstay_limit\n    },\n    zone_group: zone.zone_group_id\n  }\n\n  return axios.patch(`${BASE_URL}/zones/${id}`, data)\n    .then(response => response.data)\n    .then(data => {\n      data.zone_group_id = data.zone_group.id\n      delete data.zone_group\n      return data\n    })\n}\n\nfunction createZoneGroup (zoneGroup) {\n  return axios.post(`${BASE_URL}/zones/groups`, zoneGroup, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n    .then(response => response.data)\n}\n\nfunction editZoneGroup (id, zoneGroup) {\n  return axios.patch(`${BASE_URL}/zones/groups/${id}`, zoneGroup, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n    .then(response => response.data)\n}\n\nfunction getAllZones () {\n  return axios.get(`${BASE_URL}/zones/?all=true`)\n    .then(response => response.data)\n}\n\nfunction handleApiError (err) {\n  if (err.response) {\n    return err.response.data\n  } else if (err.request) {\n    return 'Error while processing request!'\n  } else {\n    return err.message ? err.message : 'UNKNOWN'\n  }\n}\n\nfunction getAlertLabel (alert) {\n  switch (alert) {\n    case ALERT_TYPES.UNKNOWN:\n      return 'Unknown person'\n    case ALERT_TYPES.UNAUTHORIZED:\n      return 'Unauthorized'\n    case ALERT_TYPES.OVERSTAY:\n      return 'Overstay'\n    default:\n      return 'UNKNOWN ALERT'\n  }\n}\n\nexport { ALERT_TYPES, getAlertLabel }\nexport default {\n  getZones,\n  getAllZones,\n  getZonesByName,\n  getPeopleForZone,\n  getAlertsForZone,\n  dismissAlert,\n  getPeopleWihtinDateTimeRange,\n  getPeopleWihtinDate,\n  getPeopleCountHourlyInZone,\n  createZone,\n  editZone,\n  createZoneGroup,\n  editZoneGroup,\n  handleApiError,\n  BASE_URL\n}\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Dashboard\")]),_c('v-spacer'),(!_vm.isLoading)?_c('v-btn',{attrs:{\"dark\":\"\",\"icon\":\"\"},on:{\"click\":_vm.refreshZones}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1):_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1),_c('v-tabs',{attrs:{\"show-arrows\":\"\"},model:{value:(_vm.activeZoneGroup),callback:function ($$v) {_vm.activeZoneGroup=$$v},expression:\"activeZoneGroup\"}},[_c('v-tabs-slider'),_vm._l((_vm.zoneGroups),function(group){return _c('v-tab',{key:group.id},[_vm._v(\" \"+_vm._s(group.name)+\" \")])}),_c('v-tabs-items',{model:{value:(_vm.activeZoneGroup),callback:function ($$v) {_vm.activeZoneGroup=$$v},expression:\"activeZoneGroup\"}},_vm._l((_vm.zoneGroups),function(group){return _c('v-tab-item',{key:group.id},[_c('v-row',{staticClass:\"mb-6\"},[_c('v-col',{staticClass:\"text-center\"},[(group.layout !== null)?_c('img',{attrs:{\"src\":_vm.BASE_URL + group.layout}}):_c('img',{attrs:{\"src\":\"https://via.placeholder.com/728x90?Text=placeholder\"}})])],1),_c('v-row',_vm._l((group.zones),function(zone){return _c('v-col',{key:zone.id,attrs:{\"lg\":3,\"md\":4,\"sm\":6,\"xs\":12}},[_c('ZoneButton',{attrs:{\"name\":zone.name,\"people-count\":zone.persons_count,\"alert-unauthorized\":zone.alertUnauthorized,\"alert-unknown-person\":zone.alertUnknownPerson,\"alert-overstay\":zone.alertOverstay},on:{\"click\":function($event){return _vm.openZoneDialog(zone)}}})],1)}),1)],1)}),1)],2),_c('ZoneDialog',{attrs:{\"zone\":_vm.activeZone},on:{\"people-updated\":_vm.handlePeopleUpdated,\"alerts-updated\":_vm.handleAlertsUpdated},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center\"},[_c('v-btn',{staticClass:\"py-10 text-center zone-btn\",attrs:{\"block\":\"\",\"x-large\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.clicked}},[_c('p',{staticClass:\"zone-btn\"},[_c('span',{staticClass:\"subtitle-1\"},[_vm._v(_vm._s(_vm.name))]),_c('br'),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.peopleCount))])])]),_c('br'),_c('div',{staticClass:\"text-center mt-n6 mb-4\"},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({class:_vm.unauthorizedClass},on),[_vm._v(\" \"+_vm._s(_vm.alertUnauthorized ? 'mdi-alert-circle-outline' : 'mdi-check-circle-outline')+\" \")])]}}])},[_c('span',[_vm._v(\"Room should be inactive\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({class:_vm.overstayClass},on),[_vm._v(\" \"+_vm._s(_vm.alertOverstay ? 'mdi-alert-circle-outline' : 'mdi-check-circle-outline')+\" \")])]}}])},[_c('span',[_vm._v(\"Overstay\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({class:_vm.unknownPersonClass},on),[_vm._v(\" \"+_vm._s(_vm.alertUnknownPerson ? 'mdi-alert-circle-outline' : 'mdi-check-circle-outline')+\" \")])]}}])},[_c('span',[_vm._v(\"Unknown Person\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    name: String,\n    peopleCount: Number,\n    alertUnauthorized: Boolean,\n    alertUnknownPerson: Boolean,\n    alertOverstay: Boolean\n  },\n  computed: {\n    unauthorizedClass () {\n      return {\n        'alert-unauthorized': this.alertUnauthorized\n      }\n    },\n    unknownPersonClass () {\n      return {\n        'alert-unknown-person': this.alertUnknownPerson\n      }\n    },\n    overstayClass () {\n      return {\n        'alert-overstay': this.alertOverstay\n      }\n    }\n  },\n  methods: {\n    clicked () {\n      this.$emit('click')\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneButton.vue?vue&type=template&id=e7fc7c9e&scoped=true&\"\nimport script from \"./ZoneButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoneButton.vue?vue&type=style&index=0&id=e7fc7c9e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e7fc7c9e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.dialog},on:{\"input\":_vm.handleDialog}},[(_vm.zone !== null)?_c('v-card',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.zone.name || 'UNKNOWN'))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-alert',{attrs:{\"type\":_vm.alertType,\"dismissible\":\"\"},model:{value:(_vm.alert),callback:function ($$v) {_vm.alert=$$v},expression:\"alert\"}},[_vm._v(_vm._s(_vm.alertMessage))]),_c('v-tabs',{attrs:{\"grow\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.tabItems),function(item,i){return _c('v-tab',{key:i},[_vm._v(_vm._s(item))])}),1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('ZonePeopleView',{attrs:{\"people\":_vm.people,\"loading\":_vm.loading},on:{\"trace\":_vm.tracePerson,\"refresh\":_vm.refreshPeople}})],1)],1),_c('v-tab-item',[_c('v-card',{attrs:{\"flat\":\"\"}},[_c('ZoneAlertView',{attrs:{\"alerts\":_vm.zoneAlerts,\"loading\":_vm.loading},on:{\"dismiss-alert\":_vm.dismissAlert,\"refresh\":_vm.refreshAlerts}})],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.people},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":_vm.refreshData}},[_vm._v(\"Refresh\")])],1)]},proxy:true},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.name)?_c('span',[_vm._v(_vm._s(item.name))]):_c('span',[_vm._v(\"UNKNOWN\")])]}},{key:\"item.from\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s((new Date(item.from)).toLocaleString('en-US', _vm.dateTimeFormatOptions)))])]}},{key:\"item.avatar\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-avatar',{attrs:{\"size\":\"48\"}},[(item.avatar !== null)?_c('v-img',{attrs:{\"src\":item.avatar}}):_c('v-img',{attrs:{\"src\":\"/avatar-placeholder.png\"}})],1)]}},{key:\"item.remarks\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.alerts.length === 0)?_c('span',[_vm._v(\"-\")]):[_vm._l((item.alerts),function(alert,i){return [_c('span',{key:alert,class:_vm.alertClass(alert)},[_vm._v(_vm._s(_vm.alertLabel(alert)))]),(i < item.alerts.length - 1)?_c('span',{key:i},[_vm._v(\", \")]):_vm._e()]})]]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.tracePerson(item.id)}}},[_vm._v(\"Lacak\")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { ALERT_TYPES, getAlertLabel } from '@/api'\nimport { DATE_TIME_FORMAT } from '@/common/date-time'\n\nconst headers = [\n  { text: 'ID', value: 'id' },\n  { text: 'Foto', value: 'avatar', sortable: false },\n  { text: 'Nama', value: 'name' },\n  { text: 'Waktu Masuk', value: 'from' },\n  { text: 'Keterangan', value: 'remarks' },\n  { text: 'Aksi', value: 'actions', sortable: false }\n]\nexport default {\n  name: 'ZonePeopleView',\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    people: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data: () => ({\n    headers,\n    dateTimeFormatOptions: DATE_TIME_FORMAT\n  }),\n\n  methods: {\n    customSort (items, index, isDesc) {\n      items.sort((a, b) => {\n        if (index[0] === 'from') {\n          const dateA = new Date(a[index])\n          const dateB = new Date(b[index])\n          return isDesc[0] ? dateA - dateB : dateB - dateA\n        } else if (index[0] === 'remarks') {\n          const alertsA = a[index]\n          const alertsB = b[index]\n\n          if (isDesc[0]) {\n            if (alertsA.length > alertsB.length) {\n              return -1\n            }\n            if (alertsA.length === alertsB.length) {\n              return 0\n            }\n            return 1\n          } else {\n            if (alertsB.length > alertsA.length) {\n              return -1\n            }\n            if (alertsB.length === alertsA.length) {\n              return 0\n            }\n            return 1\n          }\n        } else if (index[0] === 'name') {\n          const nameA = a[index].toUpperCase()\n          const nameB = b[index].toUpperCase()\n\n          if (isDesc[0]) {\n            if (nameB < nameA) {\n              return -1\n            }\n            if (nameB > nameA) {\n              return 1\n            }\n            return 0\n          } else {\n            if (nameA < nameB) {\n              return -1\n            }\n            if (nameA > nameB) {\n              return 1\n            }\n            return 0\n          }\n        } else { // must be ID\n          const idA = a[index]\n          const idB = b[index]\n\n          if (isDesc[0]) {\n            if (idB < idA) {\n              return -1\n            }\n            if (idB > idA) {\n              return 1\n            }\n            return 0\n          } else {\n            if (idA < idB) {\n              return -1\n            }\n            if (idA > idB) {\n              return 1\n            }\n            return 0\n          }\n        }\n      })\n    },\n\n    tracePerson (personId) {\n      this.$emit('trace', personId)\n    },\n    refreshData () {\n      this.$emit('refresh')\n    },\n    alertLabel (alert) {\n      return getAlertLabel(alert)\n    },\n    alertClass (alert) {\n      switch (alert) {\n        case ALERT_TYPES.UNKNOWN:\n          return 'red--text'\n        case ALERT_TYPES.UNAUTHORIZED:\n          return 'red--text'\n        case ALERT_TYPES.OVERSTAY:\n          return 'yellow--text text--darken-1'\n        default:\n          return ''\n      }\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZonePeopleView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZonePeopleView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZonePeopleView.vue?vue&type=template&id=7a64f0ed&\"\nimport script from \"./ZonePeopleView.vue?vue&type=script&lang=js&\"\nexport * from \"./ZonePeopleView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VDataTable,VImg,VSpacer,VToolbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{attrs:{\"loading\":_vm.loading,\"headers\":_vm.headers,\"items\":_vm.alerts},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.refreshData}},[_vm._v(\"Refresh\")])],1)]},proxy:true},{key:\"item.avatar\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-avatar',{attrs:{\"size\":\"48\"}},[(item.person.avatar !== null)?_c('v-img',{attrs:{\"src\":item.person.avatar}}):_c('v-img',{attrs:{\"src\":\"/avatar-placeholder.png\"}})],1)]}},{key:\"item.name\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.person.name)?_c('span',[_vm._v(_vm._s(item.person.name))]):_c('span',[_vm._v(\"UNKNOWN\")])]}},{key:\"item.from\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',[_vm._v(_vm._s((new Date(item.person.from)).toLocaleString('en-US', _vm.dateTimeFormatOptions)))])]}},{key:\"item.type\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('span',{class:_vm.alertClass(item.type)},[_vm._v(_vm._s(_vm.alertLabel(item.type)))])]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [(!item.is_known)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"amber\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.dismissAlert(item.id)}}},[_vm._v(\"Selesaikan\")]):_vm._e(),(item.is_known)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\",\"disabled\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-check\")]),_vm._v(\" Selesai\")],1):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api, { ALERT_TYPES, getAlertLabel } from '@/api'\nimport { DATE_TIME_FORMAT } from '@/common/date-time'\n\nconst headers = [\n  { text: 'ID', value: 'id' },\n  { text: 'Foto', value: 'avatar', sortable: false },\n  { text: 'Nama', value: 'name' },\n  { text: 'Waktu Masuk', value: 'from' },\n  { text: 'Keterangan', value: 'type' },\n  { text: 'Aksi', value: 'actions', sortable: false }\n]\nexport default {\n  name: 'ZoneAlertView',\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    alerts: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data: () => ({\n    headers,\n    dateTimeFormatOptions: DATE_TIME_FORMAT\n  }),\n\n  methods: {\n    dismissAlert (alertId) {\n      api.dismissAlert(alertId)\n        .then(() => {\n          // TODO pass data from API.\n          this.$emit('dismiss-alert', alertId)\n        })\n    },\n    refreshData () {\n      this.$emit('refresh')\n    },\n    alertLabel (alert) {\n      return getAlertLabel(alert)\n    },\n    alertClass (alert) {\n      switch (alert) {\n        case ALERT_TYPES.UNKNOWN:\n          return 'red--text'\n        case ALERT_TYPES.UNAUTHORIZED:\n          return 'red--text'\n        case ALERT_TYPES.OVERSTAY:\n          return 'yellow--text text--darken-1'\n        default:\n          return ''\n      }\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneAlertView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneAlertView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneAlertView.vue?vue&type=template&id=440c475d&\"\nimport script from \"./ZoneAlertView.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneAlertView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VDataTable,VIcon,VImg,VSpacer,VToolbar})\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport _ from 'lodash'\n\nimport api, { ALERT_TYPES } from '@/api'\nimport ZonePeopleView from './ZonePeopleView.vue'\nimport ZoneAlertView from './ZoneAlertView.vue'\n\nconst TABS = ['People', 'Alerts']\nexport default {\n  components: {\n    ZonePeopleView, ZoneAlertView\n  },\n\n  model: {\n    prop: 'dialog',\n    event: 'change'\n  },\n\n  props: {\n    zone: Object,\n    dialog: Boolean\n  },\n  data: () => ({\n    tabItems: TABS,\n    tab: 0,\n    loading: false,\n    people: [],\n    zoneAlerts: [],\n\n    alert: false,\n    alertType: 'error',\n    alertMessage: null\n  }),\n\n  watch: {\n    zone (val) {\n      if (!_.isNull(val)) {\n        switch (this.tab) {\n          case 0:\n            this.refreshPeople()\n            break\n          case 1:\n            this.refreshAlerts()\n            break\n        }\n      } else {\n        this.tab = 0\n        this.people = []\n        this.zoneAlerts = []\n      }\n    },\n\n    tab (val) {\n      if (this.dialog) {\n        this.$nextTick(() => {\n          switch (val) {\n            case 0:\n              this.refreshPeople()\n              break\n            case 1:\n              this.refreshAlerts()\n              break\n          }\n        })\n      }\n    }\n  },\n\n  computed: {\n    availableAlerts () {\n      const alerts = {\n        alertOverstay: false,\n        alertUnknown: false,\n        alertUnauthorized: false\n      }\n\n      this.zoneAlerts.forEach(alert => {\n        if (alerts.alertOverstay && alerts.alertUnknown && alerts.alertUnauthorized) {\n          return // all alerts are up\n        }\n        if (alert.is_known) {\n          return // skip dismissed alerts\n        }\n\n        switch (alert.type) {\n          case ALERT_TYPES.UNKNOWN:\n            alerts.alertUnknown = true\n            break\n          case ALERT_TYPES.UNAUTHORIZED:\n            alerts.alertUnauthorized = true\n            break\n          case ALERT_TYPES.OVERSTAY:\n            alerts.alertOverstay = true\n            break\n        }\n      })\n      return alerts\n    }\n  },\n\n  methods: {\n    closeDialog () {\n      this.$emit('change', false)\n    },\n    handleDialog (val) {\n      this.$emit('change', val)\n    },\n\n    tracePerson (personId) {\n      // TODO\n      this.showAlert('info', 'TODO Trace ' + personId)\n    },\n\n    refreshPeople () {\n      if (this.loading) {\n        return\n      }\n\n      const vm = this\n      vm.loading = true\n      const zone = vm.zone\n      api.getPeopleForZone(zone.id)\n        .then(people => {\n          vm.people = people\n          vm.loading = false\n\n          vm.$emit('people-updated', {\n            zone: zone.id,\n            peopleCount: people.count\n          })\n        })\n        .catch(err => {\n          console.error(err)\n          vm.loading = false\n          vm.showAlert('error', err.message || 'UNKNOWN error')\n        })\n    },\n\n    showAlert (type, message) {\n      this.alertType = type\n      this.alertMessage = message\n      this.alert = true\n    },\n\n    refreshAlerts () {\n      if (this.loading) {\n        return\n      }\n\n      const vm = this\n      vm.loading = true\n      const zone = vm.zone\n      api.getAlertsForZone(zone.id)\n        .then(alerts => {\n          vm.loading = false\n          vm.zoneAlerts = alerts[zone.id]\n\n          // update people, in case there's new alert for them.\n          const updatedPeople = {}\n          vm.zoneAlerts.forEach(alert => {\n            if (_.has(updatedPeople, alert.person.id)) {\n              const existingAlerts = updatedPeople[alert.person.id].alerts\n              if (!existingAlerts.includes(alert.type)) {\n                existingAlerts.push(alert.type)\n              }\n            } else {\n              updatedPeople[alert.person.id] = {\n                ...alert.person,\n                alerts: [alert.type]\n              }\n            }\n          })\n\n          Object.values(updatedPeople).forEach(person => {\n            const existingPersonIndex = vm.people.findIndex(existingPerson => existingPerson.id === person.id)\n            if (existingPersonIndex !== -1) {\n              const existingPerson = vm.people[existingPersonIndex]\n              existingPerson.alerts = _.union(existingPerson.alerts, person.alerts)\n              vm.$set(vm.people, existingPersonIndex, existingPerson)\n            } else {\n              vm.people.push(person)\n            }\n          })\n          vm.$nextTick(() => {\n            vm.$emit('alerts-updated', {\n              zone: zone.id,\n              alerts: vm.availableAlerts\n            })\n            vm.$emit('people-updated', {\n              zone: zone.id,\n              peopleCount: vm.people.length\n            })\n          })\n        })\n        .catch(err => {\n          vm.loading = false\n\n          let message\n          if (_.isPlainObject(err)) {\n            if (_.has(err, 'message')) {\n              message = err.message\n            }\n          } else {\n            message = err\n          }\n          vm.showAlert('error', message)\n        })\n    },\n\n    dismissAlert (alertId) {\n      const index = this.zoneAlerts.findIndex(alert => alert.id === alertId)\n      if (index !== -1) {\n        const alert = this.zoneAlerts[index]\n        alert.is_known = true\n        this.$set(this.zoneAlerts, index, alert)\n      }\n      this.$nextTick(() => {\n        this.$emit('alerts-updated', {\n          zone: this.zone.id,\n          alerts: this.availableAlerts\n        })\n      })\n    }\n  }\n}\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport _ from 'lodash'\nimport api, { ALERT_TYPES } from '@/api'\nimport ZoneButton from './components/ZoneButton'\nimport ZoneDialog from './components/ZoneDialog'\n\nlet refreshInterval\nfunction refreshData () {\n  if (!_.isUndefined(refreshInterval)) {\n    clearInterval(refreshInterval)\n  }\n  return api.getZones()\n}\nexport default {\n  name: 'Dashboard',\n\n  data () {\n    return {\n      BASE_URL: api.BASE_URL,\n      zoneGroups: [],\n      activeZoneGroup: null,\n      activeZone: null,\n      dialog: false,\n      isLoading: false\n    }\n  },\n\n  components: { ZoneButton, ZoneDialog },\n\n  watch: {\n    dialog (isOpen) {\n      if (!isOpen) {\n        this.activeZone = null\n      }\n    }\n  },\n\n  methods: {\n    openZoneDialog (zone) {\n      this.activeZone = zone\n      this.dialog = true\n    },\n\n    handlePeopleUpdated ({ zone, peopleCount }) {\n      const vm = this\n      const activeZoneGroupIdx = vm.activeZoneGroup\n      if (_.isUndefined(activeZoneGroupIdx) || _.isNull(activeZoneGroupIdx)) {\n        console.error(`Unknown active ZoneGroup id: ${vm.activeZoneGroup || 'N/A'}!`)\n        return\n      }\n      const activeZoneGroup = vm.zoneGroups[activeZoneGroupIdx]\n\n      const currentZoneIdx = activeZoneGroup.zones.findIndex(z => z.id === zone)\n      if (currentZoneIdx !== -1) {\n        const currentZone = activeZoneGroup.zones[currentZoneIdx]\n        currentZone.peopleCount = peopleCount\n        activeZoneGroup.zones[currentZoneIdx] = currentZone\n\n        this.$set(this.zoneGroups, activeZoneGroupIdx, activeZoneGroup)\n      }\n    },\n\n    handleAlertsUpdated ({ zone, alerts }) {\n      const vm = this\n      const activeZoneGroupIdx = vm.activeZoneGroup\n      if (_.isNull(activeZoneGroupIdx) || _.isUndefined(activeZoneGroupIdx)) {\n        console.error(`Unknown active ZoneGroup id: ${vm.activeZoneGroup || 'N/A'}!`)\n        return\n      }\n      const activeZoneGroup = vm.zoneGroups[activeZoneGroupIdx]\n\n      const currentZoneIdx = activeZoneGroup.zones.findIndex(z => z.id === zone)\n      if (currentZoneIdx !== -1) {\n        const currentZone = activeZoneGroup.zones[currentZoneIdx]\n        currentZone.alertUnknownPerson = alerts.alertUnknownPerson\n        currentZone.alertOverstay = alerts.alertOverstay\n        currentZone.alertUnauthorized = alerts.alertUnauthorized\n        activeZoneGroup.zones[currentZoneIdx] = currentZone\n\n        this.$set(this.zoneGroups, activeZoneGroupIdx, activeZoneGroup)\n      }\n    },\n\n    refreshZones () {\n      if (this.isLoading) {\n        return\n      }\n\n      const vm = this\n      vm.isLoading = true\n      refreshData()\n        .then(zoneGroups => {\n          zoneGroups.map(zoneGroup => {\n            zoneGroup.zones = zoneGroup.zones.map(zone => {\n              const alerts = zone.alerts\n              Object.values(ALERT_TYPES).forEach(alertType => {\n                const val = _.has(alerts, alertType) ? alerts[alertType] : false\n                switch (alertType) {\n                  case ALERT_TYPES.UNKNOWN:\n                    zone.alertUnknownPerson = val\n                    break\n                  case ALERT_TYPES.UNAUTHORIZED:\n                    zone.alertUnauthorized = val\n                    break\n                  case ALERT_TYPES.OVERSTAY:\n                    zone.alertOverstay = val\n                    break\n                }\n              })\n\n              delete zone.alerts\n              return zone\n            })\n            return zoneGroup\n          })\n          return zoneGroups\n        })\n        .then(zoneGroups => {\n          vm.zoneGroups = zoneGroups\n          vm.isLoading = false\n          setInterval(() => {\n            vm.refreshZones()\n          }, 60000)\n        })\n        .catch(err => {\n          vm.isLoading = false\n          console.error(err)\n          setInterval(() => {\n            vm.refreshZones()\n          }, 60000)\n        })\n    }\n  },\n\n  mounted () {\n    this.refreshZones()\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoneDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoneDialog.vue?vue&type=template&id=3f74c7b6&\"\nimport script from \"./ZoneDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoneDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VDialog,VIcon,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VToolbar,VToolbarTitle})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../../../node_modules/cache-loader/dist/cjs.js??ref--0-1!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=4ada5f98&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VBtn,VCol,VContainer,VContent,VIcon,VProgressCircular,VRow,VSpacer,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider,VToolbar,VToolbarTitle})\n","import Vue from 'vue'\nimport Dashboard from './Dashboard.vue'\nimport vuetify from '@/plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(Dashboard)\n}).$mount('#app')\n"],"sourceRoot":""}