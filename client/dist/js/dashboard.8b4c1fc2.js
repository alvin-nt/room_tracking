(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={dashboard:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("e3b3")},"035a":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a={day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},r={day:"numeric",month:"short",year:"numeric"},o={hour:"2-digit",minute:"2-digit",second:"2-digit"}},"0b8a":function(e,t,n){"use strict";var a=n("4894"),r=n.n(a);r.a},"365c":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return k}));n("a4d3"),n("e01a"),n("99af"),n("d81d"),n("b0c0");var a=n("bc3a"),r=n.n(a),o={UNKNOWN:"U",UNAUTHORIZED:"A",OVERSTAY:"O"},i=Object({NODE_ENV:"production",BASE_URL:"/"}).API_BASE_URL||"http://localhost:3000";function s(){return r.a.get("".concat(i,"/zones")).then((function(e){return e.data}))}function l(e){return r.a.get("".concat(i,"/zones?name=").concat(e)).then((function(e){return e.data}))}function c(e,t){return r.a.get("".concat(i,"/zones/").concat(e,"/hourly-count?date=").concat(t)).then((function(e){return e.data}))}function u(e,t,n){return r.a.get("".concat(i,"/zones/").concat(e,"/people-within?ts_from=").concat(t,"&ts_to=").concat(n)).then((function(e){return e.data.map((function(e){return Object.assign(e,{from:new Date(e.from),to:e.to?new Date(e.to):null})}))}))}function d(e,t){return r.a.get("".concat(i,"/zones/").concat(e,"/people-within?date=").concat(t)).then((function(e){return e.data}))}function p(e){return r.a.get("".concat(i,"/zones/").concat(e,"/people")).then((function(e){return e.data}))}function f(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.get("".concat(i,"/zones/alerts?zone_ids=").concat(e)).then((function(e){return e.data}))}function v(e){return r.a.post("".concat(i,"/zones/alerts/").concat(e),{is_dismissed:!0}).then((function(e){return e.data}))}function h(e){var t={id:e.id,name:e.name,description:e.description,config:{is_active:e.is_active,overstay_limit:e.overstay_limit},zone_group:e.zone_group_id};return r.a.post("".concat(i,"/zones"),t).then((function(e){return e.data})).then((function(e){return e.zone_group_id=e.zone_group.id,delete e.zone_group,e}))}function m(e,t){var n={id:t.id,name:t.name,description:t.description,config:{is_active:t.is_active,overstay_limit:t.overstay_limit},zone_group:t.zone_group_id};return r.a.patch("".concat(i,"/zones/").concat(e),n).then((function(e){return e.data})).then((function(e){return e.zone_group_id=e.zone_group.id,delete e.zone_group,e}))}function b(e){return r.a.post("".concat(i,"/zones/groups"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}function g(e,t){return r.a.patch("".concat(i,"/zones/groups/").concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}function _(){return r.a.get("".concat(i,"/zones/?all=true")).then((function(e){return e.data}))}function y(e){return e.response?e.response.data:e.request?"Error while processing request!":e.message?e.message:"UNKNOWN"}function k(e){switch(e){case o.UNKNOWN:return"Unknown person";case o.UNAUTHORIZED:return"Unauthorized";case o.OVERSTAY:return"Overstay";default:return"UNKNOWN ALERT"}}t["b"]={getZones:s,getAllZones:_,getZonesByName:l,getPeopleForZone:p,getAlertsForZone:f,dismissAlert:v,getPeopleWihtinDateTimeRange:u,getPeopleWihtinDate:d,getPeopleCountHourlyInZone:c,createZone:h,editZone:m,createZoneGroup:b,editZoneGroup:g,handleApiError:y,BASE_URL:i}},"402c":function(e,t,n){"use strict";var a=n("2b0e"),r=n("f309");a["a"].use(r["a"]),t["a"]=new r["a"]({})},4894:function(e,t,n){},e3b3:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("v-container",{attrs:{"fill-height":"",fluid:""}},[n("v-toolbar",{attrs:{dense:"",color:"primary",dark:""}},[n("v-toolbar-title",[e._v("Dashboard")]),n("v-spacer"),e.isLoading?n("v-progress-circular",{attrs:{indeterminate:""}}):n("v-btn",{attrs:{dark:"",icon:""},on:{click:e.refreshZones}},[n("v-icon",[e._v("mdi-refresh")])],1)],1),n("v-tabs",{attrs:{"show-arrows":""},model:{value:e.activeZoneGroup,callback:function(t){e.activeZoneGroup=t},expression:"activeZoneGroup"}},[n("v-tabs-slider"),e._l(e.zoneGroups,(function(t){return n("v-tab",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),n("v-tabs-items",{model:{value:e.activeZoneGroup,callback:function(t){e.activeZoneGroup=t},expression:"activeZoneGroup"}},e._l(e.zoneGroups,(function(t){return n("v-tab-item",{key:t.id},[n("v-row",{staticClass:"mb-6"},[n("v-col",{staticClass:"text-center"},[null!==t.layout?n("img",{attrs:{src:e.BASE_URL+t.layout}}):n("img",{attrs:{src:"https://via.placeholder.com/728x90?Text=placeholder"}})])],1),n("v-row",e._l(t.zones,(function(t){return n("v-col",{key:t.id,attrs:{lg:3,md:4,sm:6,xs:12}},[n("ZoneButton",{attrs:{name:t.name,"people-count":t.persons_count,"alert-unauthorized":t.alertUnauthorized,"alert-unknown-person":t.alertUnknownPerson,"alert-overstay":t.alertOverstay},on:{click:function(n){return e.openZoneDialog(t)}}})],1)})),1)],1)})),1)],2),n("ZoneDialog",{attrs:{zone:e.activeZone},on:{"people-updated":e.handlePeopleUpdated,"alerts-updated":e.handleAlertsUpdated},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)],1)],1)},o=[],i=(n("c740"),n("4160"),n("d81d"),n("07ac"),n("159b"),n("2ef0")),s=n.n(i),l=n("365c"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-btn",{staticClass:"py-10 text-center zone-btn",attrs:{block:"","x-large":"",outlined:""},on:{click:e.clicked}},[n("p",{staticClass:"zone-btn"},[n("span",{staticClass:"subtitle-1"},[e._v(e._s(e.name))]),n("br"),n("span",{staticClass:"title"},[e._v(e._s(e.peopleCount))])])]),n("br"),n("div",{staticClass:"text-center mt-n6 mb-4"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({class:e.unauthorizedClass},a),[e._v(" "+e._s(e.alertUnauthorized?"mdi-alert-circle-outline":"mdi-check-circle-outline")+" ")])]}}])},[n("span",[e._v("Room should be inactive")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({class:e.overstayClass},a),[e._v(" "+e._s(e.alertOverstay?"mdi-alert-circle-outline":"mdi-check-circle-outline")+" ")])]}}])},[n("span",[e._v("Overstay")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({class:e.unknownPersonClass},a),[e._v(" "+e._s(e.alertUnknownPerson?"mdi-alert-circle-outline":"mdi-check-circle-outline")+" ")])]}}])},[n("span",[e._v("Unknown Person")])])],1)],1)},u=[],d=(n("a9e3"),{props:{name:String,peopleCount:Number,alertUnauthorized:Boolean,alertUnknownPerson:Boolean,alertOverstay:Boolean},computed:{unauthorizedClass:function(){return{"alert-unauthorized":this.alertUnauthorized}},unknownPersonClass:function(){return{"alert-unknown-person":this.alertUnknownPerson}},overstayClass:function(){return{"alert-overstay":this.alertOverstay}}},methods:{clicked:function(){this.$emit("click")}}}),p=d,f=(n("0b8a"),n("2877")),v=n("6544"),h=n.n(v),m=n("8336"),b=n("132d"),g=n("3a2f"),_=Object(f["a"])(p,c,u,!1,null,"e7fc7c9e",null),y=_.exports;h()(_,{VBtn:m["a"],VIcon:b["a"],VTooltip:g["a"]});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.dialog},on:{input:e.handleDialog}},[null!==e.zone?n("v-card",[n("v-toolbar",[n("v-toolbar-title",[e._v(e._s(e.zone.name||"UNKNOWN"))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.closeDialog}},[n("v-icon",[e._v("mdi-close")])],1)],1),n("v-alert",{attrs:{type:e.alertType,dismissible:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.alertMessage))]),n("v-tabs",{attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabItems,(function(t,a){return n("v-tab",{key:a},[e._v(e._s(t))])})),1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("ZonePeopleView",{attrs:{people:e.people,loading:e.loading},on:{trace:e.tracePerson,refresh:e.refreshPeople}})],1)],1),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("ZoneAlertView",{attrs:{alerts:e.zoneAlerts,loading:e.loading},on:{"dismiss-alert":e.dismissAlert,refresh:e.refreshAlerts}})],1)],1)],1)],1):e._e()],1)},z=[],w=(n("caad"),n("2532"),n("5530")),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{loading:e.loading,headers:e.headers,items:e.people},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:e.loading},on:{click:e.refreshData}},[e._v("Refresh")])],1)]},proxy:!0},{key:"item.name",fn:function(t){var a=t.item;return[a.name?n("span",[e._v(e._s(a.name))]):n("span",[e._v("UNKNOWN")])]}},{key:"item.from",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(new Date(a.from).toLocaleString("en-US",e.dateTimeFormatOptions)))])]}},{key:"item.avatar",fn:function(e){var t=e.item;return[n("v-avatar",{attrs:{size:"48"}},[null!==t.avatar?n("v-img",{attrs:{src:t.avatar}}):n("v-img",{attrs:{src:"/avatar-placeholder.png"}})],1)]}},{key:"item.remarks",fn:function(t){var a=t.item;return[0===a.alerts.length?n("span",[e._v("-")]):[e._l(a.alerts,(function(t,r){return[n("span",{key:t,class:e.alertClass(t)},[e._v(e._s(e.alertLabel(t)))]),r<a.alerts.length-1?n("span",{key:r},[e._v(", ")]):e._e()]}))]]}},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{small:"",color:"primary",disabled:e.loading},on:{click:function(t){return e.tracePerson(a.id)}}},[e._v("Lacak")])]}}])})},A=[],U=n("035a"),V=[{text:"ID",value:"id"},{text:"Foto",value:"avatar",sortable:!1},{text:"Nama",value:"name"},{text:"Waktu Masuk",value:"from"},{text:"Keterangan",value:"remarks"},{text:"Aksi",value:"actions",sortable:!1}],x={name:"ZonePeopleView",props:{loading:{type:Boolean,default:!1},people:{type:Array,required:!0}},data:function(){return{headers:V,dateTimeFormatOptions:U["b"]}},methods:{customSort:function(e,t,n){e.sort((function(e,a){if("from"===t[0]){var r=new Date(e[t]),o=new Date(a[t]);return n[0]?r-o:o-r}if("remarks"===t[0]){var i=e[t],s=a[t];return n[0]?i.length>s.length?-1:i.length===s.length?0:1:s.length>i.length?-1:s.length===i.length?0:1}if("name"===t[0]){var l=e[t].toUpperCase(),c=a[t].toUpperCase();return n[0]?c<l?-1:c>l?1:0:l<c?-1:l>c?1:0}var u=e[t],d=a[t];return n[0]?d<u?-1:d>u?1:0:u<d?-1:u>d?1:0}))},tracePerson:function(e){this.$emit("trace",e)},refreshData:function(){this.$emit("refresh")},alertLabel:function(e){return Object(l["c"])(e)},alertClass:function(e){switch(e){case l["a"].UNKNOWN:return"red--text";case l["a"].UNAUTHORIZED:return"red--text";case l["a"].OVERSTAY:return"yellow--text text--darken-1";default:return""}}}},N=x,Z=n("8212"),T=n("8fea"),P=n("adda"),C=n("2fa4"),D=n("71d9"),S=Object(f["a"])(N,O,A,!1,null,null,null),E=S.exports;h()(S,{VAvatar:Z["a"],VBtn:m["a"],VDataTable:T["a"],VImg:P["a"],VSpacer:C["a"],VToolbar:D["a"]});var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{loading:e.loading,headers:e.headers,items:e.alerts},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{staticClass:"mb-2",attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.refreshData}},[e._v("Refresh")])],1)]},proxy:!0},{key:"item.avatar",fn:function(e){var t=e.item;return[n("v-avatar",{attrs:{size:"48"}},[null!==t.person.avatar?n("v-img",{attrs:{src:t.person.avatar}}):n("v-img",{attrs:{src:"/avatar-placeholder.png"}})],1)]}},{key:"item.name",fn:function(t){var a=t.item;return[a.person.name?n("span",[e._v(e._s(a.person.name))]):n("span",[e._v("UNKNOWN")])]}},{key:"item.from",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(new Date(a.person.from).toLocaleString("en-US",e.dateTimeFormatOptions)))])]}},{key:"item.type",fn:function(t){var a=t.item;return[n("span",{class:e.alertClass(a.type)},[e._v(e._s(e.alertLabel(a.type)))])]}},{key:"item.actions",fn:function(t){var a=t.item;return[a.is_known?e._e():n("v-btn",{attrs:{small:"",color:"amber",disabled:e.loading},on:{click:function(t){return e.dismissAlert(a.id)}}},[e._v("Selesaikan")]),a.is_known?n("v-btn",{attrs:{small:"",color:"primary",disabled:""}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-check")]),e._v(" Selesai")],1):e._e()]}}])})},R=[],$=[{text:"ID",value:"id"},{text:"Foto",value:"avatar",sortable:!1},{text:"Nama",value:"name"},{text:"Waktu Masuk",value:"from"},{text:"Keterangan",value:"type"},{text:"Aksi",value:"actions",sortable:!1}],j={name:"ZoneAlertView",props:{loading:{type:Boolean,default:!1},alerts:{type:Array,required:!0}},data:function(){return{headers:$,dateTimeFormatOptions:U["b"]}},methods:{dismissAlert:function(e){var t=this;l["b"].dismissAlert(e).then((function(){t.$emit("dismiss-alert",e)}))},refreshData:function(){this.$emit("refresh")},alertLabel:function(e){return Object(l["c"])(e)},alertClass:function(e){switch(e){case l["a"].UNKNOWN:return"red--text";case l["a"].UNAUTHORIZED:return"red--text";case l["a"].OVERSTAY:return"yellow--text text--darken-1";default:return""}}}},G=j,B=Object(f["a"])(G,I,R,!1,null,null,null),L=B.exports;h()(B,{VAvatar:Z["a"],VBtn:m["a"],VDataTable:T["a"],VIcon:b["a"],VImg:P["a"],VSpacer:C["a"],VToolbar:D["a"]});var W,K=["People","Alerts"],F={components:{ZonePeopleView:E,ZoneAlertView:L},model:{prop:"dialog",event:"change"},props:{zone:Object,dialog:Boolean},data:function(){return{tabItems:K,tab:0,loading:!1,people:[],zoneAlerts:[],alert:!1,alertType:"error",alertMessage:null}},watch:{zone:function(e){if(s.a.isNull(e))this.tab=0,this.people=[],this.zoneAlerts=[];else switch(this.tab){case 0:this.refreshPeople();break;case 1:this.refreshAlerts();break}},tab:function(e){var t=this;this.dialog&&this.$nextTick((function(){switch(e){case 0:t.refreshPeople();break;case 1:t.refreshAlerts();break}}))}},computed:{availableAlerts:function(){var e={alertOverstay:!1,alertUnknown:!1,alertUnauthorized:!1};return this.zoneAlerts.forEach((function(t){if(!(e.alertOverstay&&e.alertUnknown&&e.alertUnauthorized)&&!t.is_known)switch(t.type){case l["a"].UNKNOWN:e.alertUnknown=!0;break;case l["a"].UNAUTHORIZED:e.alertUnauthorized=!0;break;case l["a"].OVERSTAY:e.alertOverstay=!0;break}})),e}},methods:{closeDialog:function(){this.$emit("change",!1)},handleDialog:function(e){this.$emit("change",e)},tracePerson:function(e){this.showAlert("info","TODO Trace "+e)},refreshPeople:function(){if(!this.loading){var e=this;e.loading=!0;var t=e.zone;l["b"].getPeopleForZone(t.id).then((function(n){e.people=n,e.loading=!1,e.$emit("people-updated",{zone:t.id,peopleCount:n.count})})).catch((function(t){console.error(t),e.loading=!1,e.showAlert("error",t.message||"UNKNOWN error")}))}},showAlert:function(e,t){this.alertType=e,this.alertMessage=t,this.alert=!0},refreshAlerts:function(){if(!this.loading){var e=this;e.loading=!0;var t=e.zone;l["b"].getAlertsForZone(t.id).then((function(n){e.loading=!1,e.zoneAlerts=n[t.id];var a={};e.zoneAlerts.forEach((function(e){if(s.a.has(a,e.person.id)){var t=a[e.person.id].alerts;t.includes(e.type)||t.push(e.type)}else a[e.person.id]=Object(w["a"])({},e.person,{alerts:[e.type]})})),Object.values(a).forEach((function(t){var n=e.people.findIndex((function(e){return e.id===t.id}));if(-1!==n){var a=e.people[n];a.alerts=s.a.union(a.alerts,t.alerts),e.$set(e.people,n,a)}else e.people.push(t)})),e.$nextTick((function(){e.$emit("alerts-updated",{zone:t.id,alerts:e.availableAlerts}),e.$emit("people-updated",{zone:t.id,peopleCount:e.people.length})}))})).catch((function(t){var n;e.loading=!1,s.a.isPlainObject(t)?s.a.has(t,"message")&&(n=t.message):n=t,e.showAlert("error",n)}))}},dismissAlert:function(e){var t=this,n=this.zoneAlerts.findIndex((function(t){return t.id===e}));if(-1!==n){var a=this.zoneAlerts[n];a.is_known=!0,this.$set(this.zoneAlerts,n,a)}this.$nextTick((function(){t.$emit("alerts-updated",{zone:t.zone.id,alerts:t.availableAlerts})}))}}},M=F,H=n("0798"),Y=n("b0af"),q=n("169a"),J=n("71a3"),Q=n("c671"),X=n("fe57"),ee=n("aac8"),te=n("2a7f"),ne=Object(f["a"])(M,k,z,!1,null,null,null),ae=ne.exports;function re(){return s.a.isUndefined(W)||clearInterval(W),l["b"].getZones()}h()(ne,{VAlert:H["a"],VBtn:m["a"],VCard:Y["a"],VDialog:q["a"],VIcon:b["a"],VSpacer:C["a"],VTab:J["a"],VTabItem:Q["a"],VTabs:X["a"],VTabsItems:ee["a"],VToolbar:D["a"],VToolbarTitle:te["a"]});var oe={name:"Dashboard",data:function(){return{BASE_URL:l["b"].BASE_URL,zoneGroups:[],activeZoneGroup:null,activeZone:null,dialog:!1,isLoading:!1}},components:{ZoneButton:y,ZoneDialog:ae},watch:{dialog:function(e){e||(this.activeZone=null)}},methods:{openZoneDialog:function(e){this.activeZone=e,this.dialog=!0},handlePeopleUpdated:function(e){var t=e.zone,n=e.peopleCount,a=this,r=a.activeZoneGroup;if(s.a.isUndefined(r)||s.a.isNull(r))console.error("Unknown active ZoneGroup id: ".concat(a.activeZoneGroup||"N/A","!"));else{var o=a.zoneGroups[r],i=o.zones.findIndex((function(e){return e.id===t}));if(-1!==i){var l=o.zones[i];l.peopleCount=n,o.zones[i]=l,this.$set(this.zoneGroups,r,o)}}},handleAlertsUpdated:function(e){var t=e.zone,n=e.alerts,a=this,r=a.activeZoneGroup;if(s.a.isNull(r)||s.a.isUndefined(r))console.error("Unknown active ZoneGroup id: ".concat(a.activeZoneGroup||"N/A","!"));else{var o=a.zoneGroups[r],i=o.zones.findIndex((function(e){return e.id===t}));if(-1!==i){var l=o.zones[i];l.alertUnknownPerson=n.alertUnknownPerson,l.alertOverstay=n.alertOverstay,l.alertUnauthorized=n.alertUnauthorized,o.zones[i]=l,this.$set(this.zoneGroups,r,o)}}},refreshZones:function(){if(!this.isLoading){var e=this;e.isLoading=!0,re().then((function(e){return e.map((function(e){return e.zones=e.zones.map((function(e){var t=e.alerts;return Object.values(l["a"]).forEach((function(n){var a=!!s.a.has(t,n)&&t[n];switch(n){case l["a"].UNKNOWN:e.alertUnknownPerson=a;break;case l["a"].UNAUTHORIZED:e.alertUnauthorized=a;break;case l["a"].OVERSTAY:e.alertOverstay=a;break}})),delete e.alerts,e})),e})),e})).then((function(t){e.zoneGroups=t,e.isLoading=!1,setInterval((function(){e.refreshZones()}),6e4)})).catch((function(t){e.isLoading=!1,console.error(t),setInterval((function(){e.refreshZones()}),6e4)}))}}},mounted:function(){this.refreshZones()}},ie=oe,se=n("7496"),le=n("62ad"),ce=n("a523"),ue=n("a75b"),de=n("490a"),pe=n("0fd9"),fe=n("9a96"),ve=Object(f["a"])(ie,r,o,!1,null,null,null),he=ve.exports;h()(ve,{VApp:se["a"],VBtn:m["a"],VCol:le["a"],VContainer:ce["a"],VContent:ue["a"],VIcon:b["a"],VProgressCircular:de["a"],VRow:pe["a"],VSpacer:C["a"],VTab:J["a"],VTabItem:Q["a"],VTabs:X["a"],VTabsItems:ee["a"],VTabsSlider:fe["a"],VToolbar:D["a"],VToolbarTitle:te["a"]});var me=n("402c");a["a"].config.productionTip=!1,new a["a"]({vuetify:me["a"],render:function(e){return e(he)}}).$mount("#app")}});
//# sourceMappingURL=dashboard.8b4c1fc2.js.map